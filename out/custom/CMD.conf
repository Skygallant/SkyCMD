name: Sky CMD
slots:
  core:
    name: core
    class: CoreUnit
    select: null
    type:
      events: []
      methods: []
  disk:
    name: disk
    class: DataBankUnit
    select: null
    type:
      events: []
      methods: []
  warp:
    name: warp
    class: WarpDriveUnit
    select: null
    type:
      events: []
      methods: []
handlers:
  core:
    onStressChanged(stress):
      lua: core:triggerEvent('onStressChanged',stress)
  disk: {}
  warp: {}
  library:
    onStart():
      lua: >-
        ;(function()

        local a={}local b=0;function library.addEventHandlers(c)if not c or c.onEvent and c.triggerEvent then return false end;b=b+1;a[b]=c;local d,e,f='table','function','thread'if d~=type(c)then error('You can only add event handlers to table objects!')end;local g={}local function h(c)local i=type(c)return e==i or d==i and h(getmetatable(c).__call)or f==i end;c.onEvent=function(self,j,k,l)if not h(k)then error('Event handler must be a function, a callable object or a thread!')end;l=l or self;if d~=type(l)then error('The value of self must be a table!')end;if not g[j]then g[j]={_=0}end;local m=f==type(k)and function(...)coroutine.resume(k,...)end or k;local k=g[j]local n=k._+1;k[n]={m,l}k._=n;return n end;c.clearEvent=function(self,j,o)if g[j]and g[j][o]then g[j][o]=nil end end;c.clearAllEvents=function(self)g={}end;c.triggerEvent=function(self,j,...)local p=g[j]if p then for q=1,p._ do local k=p[q]if k then k[1](k[2],...)end end end end;return true end;function library.clearAllEventHandlers()for q=1,b do local c=a[q]if c and c.clearAllEvents then c:clearAllEvents()end end end

        end)()

        ;(function()

        local a=DULibrary or{}function a.getLinks(b,c)local d={}if not b then b={}end;for e,f in pairs(unit.getOutPlugs())do local g=unit[f.name]if'table'==type(g)and'function'==type(g.getClass)then local h=true;for i,j in pairs(b)do if not('function'==type(g[i])and j==g[i]():sub(1,#j))then h=false;break end end;if h then if c then table.insert(d,g)else d[f.name]=g end end end end;return d end;function a.getLinksByClass(k,c)return a.getLinks({getClass=k},c)end;function a.getLinkByClass(k)return a.getLinksByClass(k,true)[1]end;function a.getCoreUnit()return a.getLinkByClass('CoreUnit')end;function a.getLinkByName(l)local m=a.getCoreUnit()if not m then error('getLinkByName requires a linked CoreUnit to work')end;local d=a.getLinks()for n,o in pairs(d)do if l==m.getElementNameById(o.getLocalId())then return o end end end

        end)()

        package.preload['Sky:atlas.lua']=(function()

        return{[0]={[1]={id=1,name={"Madis","Madis","Madis"},type={"Planet","Planète","Planet"},biosphere={"Barren","Désert","Karg"},classification={"Hyperthermoplanet","Hyperthermoplanète","Hyperthermoplanet"},habitability={"Low","Faible","Niedrig"},description={[[Madis is a barren wasteland of a rock; it sits closest to the sun and temperatures reach extreme highs during the day. The arkship geological survey reports high plateaus intermittently separated by small ravines.]],[[Madis est un rocher stérile. En tant que planète la plus proche du soleil, sa température est extrêmement élevée pendant la journée. L'étude géologique du Vaisseau-Arche signale de longues vallées rocheuses séparées ponctuellement par de petits ravins.]],[[Madis ist eine karge Felsenwüste und hat den engsten Orbit um die Sonne. Tagsüber herrschen extrem hohe Temperaturen. Die geologische Untersuchung des Archenschiffs berichtet von ausgedehnten felsigen Tälern, die ab und zu von kleinen Schluchten unterbrochen werden.]]},iconPath="gui/screen_unit/img/planets/madis.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=true,systemId=0,positionInSystem=1,satellites={10,11,12},center={17465536.00,22665536.00,-34464.00},gravity=3.5325,radius=44300.00,atmosphereThickness=12000.00,atmosphereRadius=56500.00,surfaceArea=24661376667,surfaceAverageAltitude=720.30,surfaceMaxAltitude=1261.97,surfaceMinAltitude=451.43,GM=6932495925.00,maxStaticAltitude=1460.00,ores={4234772167,262147665,3724036288,299255727,2029139010,4041459743},territories=30722},[10]={id=10,name={"Madis Moon 1","Madis Lune 1","Madis Mond 1"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/madis_moon_1.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=1,positionInSystem=1,satellites=nil,center={17448118.86,22966848.03,143079.98},gravity=0.7850,radius=10000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=78500000.00,surfaceArea=1256637056,surfaceAverageAltitude=191.685,surfaceMaxAltitude=458.48,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={299255727,4234772167,343766315,1050500112},territories=1472},[11]={id=11,name={"Madis Moon 2","Madis Lune 2","Madis Mond 2"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/madis_moon_2.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=1,positionInSystem=2,satellites=nil,center={17194626.00,22243633.88,-214962.81},gravity=0.9420,radius=12000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=135648000.00,surfaceArea=1809557376,surfaceAverageAltitude=-1825.951,surfaceMaxAltitude=651.737,surfaceMinAltitude=-4018.44,maxStaticAltitude=2500.00,ores={4234772167,3724036288,2289641763,3837858336},territories=1922},[12]={id=12,name={"Madis Moon 3","Madis Lune 3","Madis Mond 3"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/madis_moon_3.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=1,positionInSystem=3,satellites=nil,center={17520617.44,22184726.90,-309986.22},gravity=1.1775,radius=15000.00,atmosphereThickness=0,atmosphereRadius=0,GM=264937500.00,surfaceArea=2827433472,surfaceAverageAltitude=433.322,surfaceMaxAltitude=1112.76,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={3724036288,262147665,2029139010,1065079614},territories=3632},[2]={id=2,name={"Alioth","Alioth","Alioth"},type={"Planet","Planète","Planet"},biosphere={"Forest","Forêt","Wald"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"High","Élevée","Hoch"},description={[[Alioth is the planet selected by the arkship for landfall; it is a typical goldilocks planet where humanity may rebuild in the coming decades. The arkship geological survey reports mountainous regions alongside deep seas and lush forests. This is where it all starts.]],[[Alioth est la planète sélectionnée par le Vaisseau-Arche pour l'atterrissage. C'est une planète Boucles d'or classique où l'humanité pourra se reconstruire dans les décennies à venir. L'étude géologique du Vaisseau-Arche signale des zones montagneuses ainsi que des océans profonds et des forêts denses. C'est ici que tout commence.]],[[Alioth ist der Planet, den das Archenschiff für die Landung ausgewählt hat. Wie die Erde umkreist er seinen Stern in der habitablen Zone und ist der perfekte Ort, um in den kommenden Jahrzehnten den Wiederaufbau der Menschheit zu beginnen. Die geologische Untersuchung des Archenschiffs berichtet von bergigen Regionen neben tiefen Meeren und üppigen Wäldern. Hier fängt alles an.]]},iconPath="gui/screen_unit/img/planets/alioth.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=true,systemId=0,positionInSystem=2,satellites={21,22,26,27},center={-8.00,-8.00,-126303.00},gravity=9.8910,radius=126067.90,atmosphereThickness=6400.00,atmosphereRadius=132460.00,surfaceArea=199718780928,surfaceAverageAltitude=94.556,surfaceMaxAltitude=1091.73,surfaceMinAltitude=-548.89,GM=157198800627.69,maxStaticAltitude=1300.00,ores={299255727,3724036288,262147665,4234772167,3086347393,1050500112},territories=259472},[21]={id=21,name={"Alioth Moon 1","Alioth Lune 1","Alioth Mond 1"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/alioth_moon_1.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=2,positionInSystem=2,satellites=nil,center={457932.99,-1509009.24,115525.00},gravity=2.3550,radius=30000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=2119500000.00,surfaceArea=11309733888,surfaceAverageAltitude=43.665,surfaceMaxAltitude=305.16,surfaceMinAltitude=-176.382,maxStaticAltitude=2500.00,ores={299255727,3724036288,343766315,4041459743},territories=14522},[22]={id=22,name={"Alioth Moon 4","Alioth Lune 4","Alioth Mond 4"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/alioth_moon_4.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=2,positionInSystem=3,satellites=nil,center={-1692694.85,729681.81,-411465.62},gravity=2.3809,radius=30330.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=2190215699.55,surfaceArea=11559916544,surfaceAverageAltitude=-6.453,surfaceMaxAltitude=-42.324,surfaceMinAltitude=-83.175,maxStaticAltitude=2500.00,ores={262147665,4234772167,2029139010,1065079614},territories=14522},[26]={id=26,name={"Sanctuary","Sanctuary","Sanctuary"},type={"Moon","Lune","Mond"},biosphere={"Forest","Forêt","Wald"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"High","Elevée","Hoch"},description=nil,iconPath="gui/screen_unit/img/planets/sanctuary_moon.png",hasAtmosphere=true,isSanctuary=true,isInSafeZone=true,systemId=2,positionInSystem=1,satellites=nil,center={-1404834.53,562655.32,-285074.95},gravity=9.8100,radius=83400.00,atmosphereThickness=8000.00,atmosphereRadius=91350.00,GM=68234043600.00,surfaceArea=87406149632,surfaceAverageAltitude=97.905,surfaceMaxAltitude=512.067,surfaceMinAltitude=-109.20,maxStaticAltitude=2500.00,ores={3724036288,299255727,262147665,4234772167},territories=111632},[27]={id=27,name={"Haven","Haven","Haven"},type={"Moon","Lune","Mond"},biosphere={"Forest","Forêt","Wald"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"High","Elevée","Hoch"},description=nil,iconPath="gui/screen_unit/img/planets/haven_moon.png",hasAtmosphere=true,isSanctuary=true,isInSafeZone=true,systemId=2,positionInSystem=4,satellites=nil,center={-1205152.02,1124841.79,-2638867.62},gravity=9.8100,radius=83443.02,atmosphereThickness=8000.00,atmosphereRadius=91300.00,GM=68304461353.44,surfaceArea=87496299100,surfaceAverageAltitude=132.365,surfaceMaxAltitude=788.779,surfaceMinAltitude=-22.402,maxStaticAltitude=2500.00,ores={299255727,3724036288,4234772167,262147665},territories=111632},[3]={id=3,name={"Thades","Thades","Thades"},type={"Planet","Planète","Planet"},biosphere={"Desert","Désert","Wüste"},classification={"Thermoplanet","Thermoplanète","Thermoplanet"},habitability={"Low","Faible","Niedrig"},description={[[Once a mainly aquatic world, Thades suffered a cataclysmic disaster, and its water was evaporated into space. Now Thades is a dried-out planet scarred by an abyssal trench, the only place left able to sustain life. Ejected rocks gathered into an asteroid belt, where the explorers can settle.]],[[Thades est une planète désertique brûlée. Il est possible qu'elle ait été pleine de vie à une époque, mais il ne reste plus que des cendres et de la poussière. L'étude géologique du Vaisseau-Arche signale des montagnes rocheuses coupées par un immense ravin non naturel. Il est arrivé quelque chose à cette planète.]],[[Thades ist ein verbrannter Wüstenplanet. Vielleicht war er einst voller Leben, aber jetzt sind nur noch Asche und Staub übrig. Die geologische Untersuchung des Archenschiffs berichtet von einem felsigen, gebirgigen Planeten, der von einer riesigen, unnatürlichen Schlucht durchschnitten wird. Irgendetwas muss diesem Planeten zugestoßen sein.]]},iconPath="gui/screen_unit/img/planets/thades.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=true,systemId=0,positionInSystem=3,satellites={30,31,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433},center={29165536.00,10865536.00,65536.00},gravity=4.8670,radius=49000.00,atmosphereThickness=40000.00,atmosphereRadius=89000.00,GM=11685667000.00,surfaceArea=30171856896,surfaceAverageAltitude=12536.892,surfaceMaxAltitude=13809.09,surfaceMinAltitude=-778.1,maxStaticAltitude=14709.00,ores={3724036288,299255727,262147665,4234772167,2289641763,1065079614},territories=38882},[30]={id=30,name={"Thades Moon 1","Thades Lune 1","Thades Mond 1"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_moon_1.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=35,satellites=nil,center={29214403.49,10907080.70,433861.28},gravity=1.0990,radius=14000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=215404000.00,surfaceArea=2463008768,surfaceAverageAltitude=167.399,surfaceMaxAltitude=423.661,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={299255727,262147665,2289641763,4041459743},territories=3002},[31]={id=31,name={"Thades Moon 2","Thades Lune 2","Thades Mond 2"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_moon_2.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=36,satellites=nil,center={29404194.34,10432766.60,19553.82},gravity=1.1775,radius=15000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=264937500.00,surfaceArea=2827433472,surfaceAverageAltitude=184.010,surfaceMaxAltitude=477.009,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={4234772167,3724036288,3086347393,1065079614},territories=3632},[400]={id=400,name={"Thades Asteroid 00","Thades Asteroid 00","Thades Asteroid 00"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_00.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=1,satellites=nil,center={29299301.32,10711862.68,2851.97},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=54.424,surfaceMaxAltitude=921.193,surfaceMinAltitude=-837.498,maxStaticAltitude=2500.00,ores={299255727,4234772167},territories=272},[401]={id=401,name={"Thades Asteroid 01","Thades Asteroid 01","Thades Asteroid 01"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_01.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=2,satellites=nil,center={29282550.05,10753803.20,117513.67},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-685.459,surfaceMaxAltitude=836.309,surfaceMinAltitude=-1925.87,maxStaticAltitude=2500.00,ores={299255727,3724036288},territories=272},[402]={id=402,name={"Thades Asteroid 02","Thades Asteroid 02","Thades Asteroid 02"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_02.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=3,satellites=nil,center={29229075.50,10805882.53,256161.21},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-956.392,surfaceMaxAltitude=168.572,surfaceMinAltitude=-2060.55,maxStaticAltitude=2500.00,ores={262147665,299255727},territories=272},[403]={id=403,name={"Thades Asteroid 03","Thades Asteroid 03","Thades Asteroid 03"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_03.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=4,satellites=nil,center={29267536.95,10749726.84,-97063.90},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-597.324,surfaceMaxAltitude=1395.83,surfaceMinAltitude=-2500.29,maxStaticAltitude=2500.00,ores={3724036288,262147665},territories=272},[404]={id=404,name={"Thades Asteroid 04","Thades Asteroid 04","Thades Asteroid 04"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_04.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=5,satellites=nil,center={29296929.92,10741579.35,-34201.26},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-544.506,surfaceMaxAltitude=1601.43,surfaceMinAltitude=-1658.22,maxStaticAltitude=2500.00,ores={4234772167,262147665},territories=272},[405]={id=405,name={"Thades Asteroid 05","Thades Asteroid 05","Thades Asteroid 05"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_05.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=6,satellites=nil,center={29230291.68,10801230.42,-117467.33},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-476.32,surfaceMaxAltitude=1093.61,surfaceMinAltitude=-1836.26,maxStaticAltitude=2500.00,ores={3724036288,4234772167},territories=272},[406]={id=406,name={"Thades Asteroid 06","Thades Asteroid 06","Thades Asteroid 06"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_06.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=7,satellites=nil,center={29294439.12,10755446.81,185994.55},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-704.756,surfaceMaxAltitude=1051.98,surfaceMinAltitude=-2124.6,maxStaticAltitude=2500.00,ores={4234772167,299255727,3724036288},territories=272},[407]={id=407,name={"Thades Asteroid 07","Thades Asteroid 07","Thades Asteroid 07"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_07.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=8,satellites=nil,center={29091470.31,10943497.38,-37252.04},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=161.911,surfaceMaxAltitude=1505.11,surfaceMinAltitude=-1473.85,maxStaticAltitude=2500.00,ores={4234772167,299255727},territories=272},[408]={id=408,name={"Thades Asteroid 08","Thades Asteroid 08","Thades Asteroid 08"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_08.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=9,satellites=nil,center={29081043.07,10962202.27,-75767.64},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-936.01,surfaceMaxAltitude=688.978,surfaceMinAltitude=-2498.5,maxStaticAltitude=2500.00,ores={3724036288,299255727},territories=272},[409]={id=409,name={"Thades Asteroid 09","Thades Asteroid 09","Thades Asteroid 09"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_09.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=10,satellites=nil,center={29086073.94,10961324.33,-37713.45},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-261.982,surfaceMaxAltitude=1811.89,surfaceMinAltitude=-1705.35,maxStaticAltitude=2500.00,ores={299255727,262147665},territories=272},[410]={id=410,name={"Thades Asteroid 10","Thades Asteroid 10","Thades Asteroid 10"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_10.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=11,satellites=nil,center={29057495.95,11010112.20,-12840.27},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-923.761,surfaceMaxAltitude=465.953,surfaceMinAltitude=-1705.78,maxStaticAltitude=2500.00,ores={3724036288,262147665},territories=272},[411]={id=411,name={"Thades Asteroid 11","Thades Asteroid 11","Thades Asteroid 11"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_11.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=12,satellites=nil,center={29038528.76,11009018.02,34480.51},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-897.714,surfaceMaxAltitude=317.114,surfaceMinAltitude=-1993.37,maxStaticAltitude=2500.00,ores={4234772167,262147665},territories=272},[412]={id=412,name={"Thades Asteroid 12","Thades Asteroid 12","Thades Asteroid 12"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_12.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=13,satellites=nil,center={29063783.12,11010103.53,-19811.13},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-1231.337,surfaceMaxAltitude=332.356,surfaceMinAltitude=-2017.24,maxStaticAltitude=2500.00,ores={3724036288,4234772167},territories=272},[413]={id=413,name={"Thades Asteroid 13","Thades Asteroid 13","Thades Asteroid 13"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_13.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=14,satellites=nil,center={29308876.96,10722122.97,63979.64},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-462.878,surfaceMaxAltitude=1558.25,surfaceMinAltitude=-1455.30,maxStaticAltitude=2500.00,ores={3724036288,299255727,262147665,4234772167},territories=272},[414]={id=414,name={"Thades Asteroid 14","Thades Asteroid 14","Thades Asteroid 14"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_14.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=15,satellites=nil,center={29039962.95,11009804.08,20310.07},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-941.413,surfaceMaxAltitude=667.795,surfaceMinAltitude=-2063.120,maxStaticAltitude=2500.00,ores={299255727,4234772167},territories=272},[415]={id=415,name={"Thades Asteroid 15","Thades Asteroid 15","Thades Asteroid 15"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_15.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=16,satellites=nil,center={29028034.74,11006962.68,90614.67},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-102.078,surfaceMaxAltitude=1711.750,surfaceMinAltitude=-1248.490,maxStaticAltitude=2500.00,ores={299255727,3724036288},territories=272},[416]={id=416,name={"Thades Asteroid 16","Thades Asteroid 16","Thades Asteroid 16"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_16.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=17,satellites=nil,center={29049290.89,11009683.55,130463.58},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-1388.131,surfaceMaxAltitude=-34.923,surfaceMinAltitude=-2501.310,maxStaticAltitude=2500.00,ores={262147665,299255727},territories=272},[417]={id=417,name={"Thades Asteroid 17","Thades Asteroid 17","Thades Asteroid 17"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_17.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=18,satellites=nil,center={29034838.01,11011307.10,100551.51},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-171.626,surfaceMaxAltitude=1396.390,surfaceMinAltitude=-1270.20,maxStaticAltitude=2500.00,ores={262147665,3724036288},territories=272},[418]={id=418,name={"Thades Asteroid 18","Thades Asteroid 18","Thades Asteroid 18"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_18.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=19,satellites=nil,center={29071108.08,10957206.76,212593.35},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-175.909,surfaceMaxAltitude=1242.240,surfaceMinAltitude=-1081.320,maxStaticAltitude=2500.00,ores={262147665,4234772167},territories=272},[419]={id=419,name={"Thades Asteroid 19","Thades Asteroid 19","Thades Asteroid 19"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_19.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=20,satellites=nil,center={29167994.87,10859282.88,268014.12},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-1102.891,surfaceMaxAltitude=598.225,surfaceMinAltitude=-2306.690,maxStaticAltitude=2500.00,ores={3724036288,4234772167},territories=272},[420]={id=420,name={"Thades Asteroid 20","Thades Asteroid 20","Thades Asteroid 20"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_20.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=21,satellites=nil,center={29213864.06,10803741.30,-121255.16},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-603.555,surfaceMaxAltitude=1582.350,surfaceMinAltitude=-2158.800,maxStaticAltitude=2500.00,ores={299255727,4234772167,262147665},territories=272},[421]={id=421,name={"Thades Asteroid 21","Thades Asteroid 21","Thades Asteroid 21"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_21.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=22,satellites=nil,center={29239443.63,10792184.95,211277.78},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-899.330,surfaceMaxAltitude=1089.520,surfaceMinAltitude=-2425.300,maxStaticAltitude=2500.00,ores={4234772167,299255727},territories=272},[422]={id=422,name={"Thades Asteroid 22","Thades Asteroid 22","Thades Asteroid 22"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_22.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=23,satellites=nil,center={29144431.74,10891773.13,265131.10},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-1159.166,surfaceMaxAltitude=966.797,surfaceMinAltitude=-2501.170,maxStaticAltitude=2500.00,ores={3724036288,299255727},territories=272},[423]={id=423,name={"Thades Asteroid 23","Thades Asteroid 23","Thades Asteroid 23"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_23.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=24,satellites=nil,center={29221331.78,10813011.47,-112261.08},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=59.944,surfaceMaxAltitude=2240.940,surfaceMinAltitude=-1196.110,maxStaticAltitude=2500.00,ores={262147665,299255727},territories=272},[424]={id=424,name={"Thades Asteroid 24","Thades Asteroid 24","Thades Asteroid 24"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_24.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=25,satellites=nil,center={29261255.06,10778311.95,-68014.35},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-634.507,surfaceMaxAltitude=1521.540,surfaceMinAltitude=-2498.500,maxStaticAltitude=2500.00,ores={3724036288,262147665},territories=272},[425]={id=425,name={"Thades Asteroid 25","Thades Asteroid 25","Thades Asteroid 25"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_25.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=26,satellites=nil,center={29199560.98,10832137.62,-97473.02},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-184.796,surfaceMaxAltitude=936.977,surfaceMinAltitude=-1009.590,maxStaticAltitude=2500.00,ores={4234772167,262147665},territories=272},[426]={id=426,name={"Thades Asteroid 26","Thades Asteroid 26","Thades Asteroid 26"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_26.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=27,satellites=nil,center={29055988.74,10976710.89,153234.70},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-599.773,surfaceMaxAltitude=1421.290,surfaceMinAltitude=-1916.820,maxStaticAltitude=2500.00,ores={4234772167,3724036288},territories=272},[427]={id=427,name={"Thades Asteroid 27","Thades Asteroid 27","Thades Asteroid 27"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_27.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=28,satellites=nil,center={29052925.00,10978093.03,202894.97},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=50.800,surfaceMaxAltitude=1210.470,surfaceMinAltitude=-657.505,maxStaticAltitude=2500.00,ores={3724036288,262147665,299255727},territories=272},[428]={id=428,name={"Thades Asteroid 28","Thades Asteroid 28","Thades Asteroid 28"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_28.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=29,satellites=nil,center={29114441.38,10927735.88,231833.92},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-1322.002,surfaceMaxAltitude=367.258,surfaceMinAltitude=-2342.960,maxStaticAltitude=2500.00,ores={299255727,4234772167},territories=272},[429]={id=429,name={"Thades Asteroid 29","Thades Asteroid 29","Thades Asteroid 29"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_29.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=30,satellites=nil,center={29093988.60,10935957.84,206596.14},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-171.916,surfaceMaxAltitude=1432.140,surfaceMinAltitude=-1545.310,maxStaticAltitude=2500.00,ores={299255727,3724036288},territories=272},[430]={id=430,name={"Thades Asteroid 30","Thades Asteroid 30","Thades Asteroid 30"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_30.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=31,satellites=nil,center={29308670.06,10719768.95,122162.49},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-688.637,surfaceMaxAltitude=1538.470,surfaceMinAltitude=-2500.330,maxStaticAltitude=2500.00,ores={262147665,299255727},territories=272},[431]={id=431,name={"Thades Asteroid 31","Thades Asteroid 31","Thades Asteroid 31"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_31.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=32,satellites=nil,center={29315394.75,10724428.22,30918.91},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-333.031,surfaceMaxAltitude=1683.290,surfaceMinAltitude=-1670.060,maxStaticAltitude=2500.00,ores={262147665,3724036288},territories=272},[432]={id=432,name={"Thades Asteroid 32","Thades Asteroid 32","Thades Asteroid 32"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_32.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=33,satellites=nil,center={29039991.14,11019630.48,64846.61},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-454.695,surfaceMaxAltitude=1545.980,surfaceMinAltitude=-2146.780,maxStaticAltitude=2500.00,ores={4234772167,262147665},territories=272},[433]={id=433,name={"Thades Asteroid 33","Thades Asteroid 33","Thades Asteroid 33"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_33.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=34,satellites=nil,center={29278192.73,10762037.83,209654.75},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-202.747,surfaceMaxAltitude=1247.770,surfaceMinAltitude=-1595.650,maxStaticAltitude=2500.00,ores={4234772167,262147665,3724036288},territories=272},[4]={id=4,name={"Talemai","Talemai","Talemai"},type={"Planet","Planète","Planet"},biosphere={"Barren","Désert","Karg"},classification={"Psychroplanet","Psychroplanète","Psychroplanet"},habitability={"Average","Moyenne","Mittlere "},description={[[Talemai is a planet in the final stages of an Ice Age. It seems likely that the planet was thrown into tumult by a cataclysmic volcanic event which resulted in its current state. The arkship geological survey reports large mountainous regions across the entire planet.]],[[Talemai est une planète en fin de période glaciaire. Il est probable qu'un événement volcanique cataclysmique soit responsable de son état actuel. L'étude géologique du Vaisseau-Arche signale de grandes zones montagneuses sur toute la planète.]],[[Talemai ist ein Planet, der sich im Endstadium einer Eiszeit befindet. Es wird vermutet, dass der Planet durch ein kataklysmisches vulkanisches Ereignis in seinen heutigen Zustand versetzt wurde. Die geologische Untersuchung des Archenschiffs berichtet von weiten Gebirgsregionen auf dem gesamten Planeten.]]},iconPath="gui/screen_unit/img/planets/talemai.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=false,systemId=0,positionInSystem=4,satellites={40,41,42},center={-13234464.00,55765536.00,465536.00},gravity=4.5530,radius=57500.00,atmosphereThickness=16000.00,atmosphereRadius=72500.00,GM=15053356250.00,surfaceArea=41547562844,surfaceAverageAltitude=631.26,surfaceMaxAltitude=2755.23,surfaceMinAltitude=-1778.1,maxStaticAltitude=14709.00,ores={299255727,4234772167,3724036288,343766315,1065079614,271971371},territories=52922},[40]={id=40,name={"Talemai Moon 2","Talemai Lune 2","Talemai Mond 2"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/talemai_moon_2.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=false,systemId=4,positionInSystem=2,satellites=nil,center={-13503090.34,55594324.49,769836.53},gravity=0.9420,radius=12000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=135648000.00,surfaceArea=1809557368.00,surfaceAverageAltitude=178.06,surfaceMaxAltitude=497.87,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={262147665,3724036288,4234772167,3086347393,4041459743,1467310917},territories=1922},[41]={id=41,name={"Talemai Moon 3","Talemai Lune 3","Talemai Mond 3"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/talemai_moon_3.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=false,systemId=4,positionInSystem=3,satellites=nil,center={-12800514.62,55700257.46,325207.84},gravity=0.8635,radius=11000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=104423000.00,surfaceArea=1520530844.00,surfaceAverageAltitude=313.12,surfaceMaxAltitude=582.08,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={262147665,299255727,4234772167,2289641763,1050500112,1866812055},territories=1922},[42]={id=42,name={"Talemai Moon 1","Talemai Lune 1","Talemai Mond 1"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/talemai_moon_1.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=false,systemId=4,positionInSystem=1,satellites=nil,center={-13058408.39,55781856.76,740177.66},gravity=1.1775,radius=15000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=265050000.00,surfaceArea=282743388.00,surfaceAverageAltitude=423.70,surfaceMaxAltitude=1077.57,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={299255727,3724036288,262147665,2029139010,1065079614,3546085401},territories=3632},[6]={id=6,name={"Sicari","Sicari","Sicari"},type={"Planet","Planète","Planet"},biosphere={"Desert","Désert","Wüste"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"Average","Moyenne","Durchschnitt"},description={[[Eons ago, Sicari and its moon shared a common origin with Sinnen as part of a single, massive planet. Cosmogeological studies reveal that an ancient cosmic cataclysm tore apart the primordial world, which eventually reformed into the three distinct celestial bodies we observe today. This accounts for their peculiarly close proximity to one another. Sicari, an arid world, is punctuated by a scattering of verdant oases. The Arkship's Geological Readings reveal a landscape dominated by towering, desolate mountains that cradle extensive tracts of lush, tropical wetlands.]],[[A l'origine Sicari Sinnen et sa lune n'étaient qu'une seule grosse planète. Dans un lointain passé, un cataclysme cosmique l'a éclatée et elle s'est recomposée en 3 corps, ce qui explique l'inhabituelle proximité de Sicari avec Sinnen. Sicari est une planète désertique parsemée d'oasis luxuriants.Le système de surveillance géologique de l'Arkship rapporte de grandes étendues arides et montagneuses abritant de larges zones humides et tropicales.]],[[Ursprünglich waren Sicari Sinnen und sein Mond nur ein großer Planet. In der fernen Vergangenheit zerschmetterte sie eine kosmische Katastrophe und sie setzte sich wieder in drei Körper zusammen, was Sicaris ungewöhnliche Nähe zu Sinnen erklärt. Sicari ist ein Wüstenplanet, der mit üppigen Oasen übersät ist. Das geologische Überwachungssystem der Arche berichtet von großen, öden, bergigen Landstrichen, die große tropische Feuchtgebiete beherbergen.]]},iconPath="gui/screen_unit/img/planets/sicari.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=false,systemId=0,positionInSystem=6,satellites=nil,center={52765536.00,27165536.00,52065536.00},gravity=4.0035,radius=51100.00,atmosphereThickness=9600.00,atmosphereRadius=60700.00,GM=10189665694.91,surfaceArea=32813432612.00,surfaceAverageAltitude=162.7630127,surfaceMaxAltitude=1226.54,surfaceMinAltitude=-301.41,ores={3724036288,4234772167,4041459743,1866812055,2162350405},territories=41072},[7]={id=7,name={"Sinnen","Sinnen","Sinnen"},type={"Planet","Planète","Planet"},biosphere={"Desert","Désert","Wüste"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"Average","Moyenne","Durchschnitt"},description={[[Sinnen, once part of a larger celestial entity with Sicari and its moon, now stands as a separate world characterized by expansive plains intersected by deep ravines. Sparse vegetation sustains a minimal ecosystem of hardy lifeforms. Yet, amidst this desolation, the enigmatic crystal forests on Sinnen defy explanation. Despite extensive research, scientists have yet to uncover any viable theories for the origin of these mysterious formations.]],[[A l'origine Sicari, Sinnen et sa lune n'étient qu'une seule grosse planète. Dans un lointain passé, un cataclysme cosmique l'a éclatée et elle s'est recomposée en 3 corps, ce qui explique l'inhabituelle proximité de Sinnen avec Sicari. Le système de surveillance géologique de l'Arkship rapporte principalement des grandes plaines aux côtés de profonds ravins, Une rare vegétation apporte à Sicari une vie minimale. Aucune théorie n'explique les étranges forêts de cristaux.]],[[Ursprünglich war Sicari, Sinnen und sein Mond nur ein einziger großer Planet. In der fernen Vergangenheit wurde sie von einer kosmischen Katastrophe erschüttert und sie setzte sich wieder in drei Körper zusammen, was Sinnens ungewöhnliche Nähe zu Sicari erklärt. Das geologische Überwachungssystem der Arche meldet hauptsächlich große Ebenen neben tiefen Schluchten, Spärliche Vegetation bringt Sicari minimales Leben. Keine Theorie erklärt die seltsamen Kristallwälder.]]},iconPath="gui/screen_unit/img/planets/sinnen.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=false,systemId=0,positionInSystem=6,satellites={70},center={52718347.17,26962117.31,51830774.69},gravity=4.3175,radius=54950.00,atmosphereThickness=12000.00,atmosphereRadius=66950.00,GM=13036702043.75,surfaceArea=37944187486.00,surfaceAverageAltitude=312.7987904,surfaceMaxAltitude=433.763,surfaceMinAltitude=2.6892,ores={262147665,299255727,1467310917,2029139010,789110817},territories=48002},[70]={id=70,name={"Sinnen Moon 1","Sinnen Moon 1","Sinnen Moon 1"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/sinnen_moon_1.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=7,positionInSystem=1,satellites=nil,center={52416510.67,26795577.16,51893332.65},gravity=0.0000,radius=0.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=0.00,surfaceArea=3631681108.00,surfaceAverageAltitude=-1948.13447,surfaceMaxAltitude=-1299.24,surfaceMinAltitude=-2694.02,ores={299255727,4234772167,3724036288,343766315,271971371,3837858336},territories=4322},[8]={id=8,name={"Teoma","Teoma","Teoma"},type={"Planet","Planète","Planet"},biosphere={"Forest","Forêt","Wald"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"High","Elevée","Hoch"},description={[[[REDACTED] The arkship geological survey [REDACTED]. This planet should not be here.]],[[[CENSURÉ] L'étude géologique du Vaisseau-Arche [CENSURÉ]. Cette planète ne devrait pas être ici.]],[[[ZENSIERT] Die geologische Untersuchung des Archenschiffs [ZENSIERT]. Dieser Planet sollte nicht hier sein.]]},iconPath="gui/screen_unit/img/planets/teoma.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=false,systemId=0,positionInSystem=8,satellites=nil,center={80865536.00,54665536.00,-934464.00},gravity=4.7885,radius=62000.00,atmosphereThickness=6400.00,atmosphereRadius=68400.00,GM=18406994000.00,surfaceArea=48305131520,surfaceAverageAltitude=-294.246,surfaceMaxAltitude=1341.99,surfaceMinAltitude=-576.98,maxStaticAltitude=1540.00,ores={299255727,4234772167,343766315,3837858336,1467310917},territories=60752},[9]={id=9,name={"Jago","Jago","Jago"},type={"Planet","Planète","Planet"},biosphere={"Water","Eau","Wasser"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"Very High","Très élevée","Sehr hoch"},description={[[Jago is a water planet. The large majority of the planet's surface is covered by large oceans dotted by small areas of landmass across the planet. The arkship geological survey reports deep seas across the majority of the planet with sub 15 percent coverage of solid ground.]],[[Jago est une planète-océan. La plupart de sa surface est recouverte d'immenses océans, parsemés de petites îles. L'étude géologique du Vaisseau-Arche signale des océans profonds sur une grande partie de la planète, et moins de 15% de terres émergées.]],[[Jago ist ein Wasserplanet. Der größte Teil der Planetenoberfläche ist von weiten Ozeanen bedeckt, in denen vereinzelte kleine Inselgruppen zu finden sind. Die geologische Untersuchung des Archenschiffs hat ergeben, dass der größte Teil des Planeten von tiefen Meeren bedeckt ist und weniger als 15% des Bodens aus festem Material besteht.]]},iconPath="gui/screen_unit/img/planets/jago.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=false,systemId=0,positionInSystem=9,satellites=nil,center={-94134464.00,12765536.00,-3634464.00},gravity=4.9455,radius=61590.00,atmosphereThickness=11200.00,atmosphereRadius=72700.00,GM=18759904118.55,surfaceArea=47668367360,surfaceAverageAltitude=-374.1116,surfaceMaxAltitude=1093.681,surfaceMinAltitude=-499.43,maxStaticAltitude=1300.00,ores={2029139010,3724036288,3837858336,271971371,789110817},territories=60752}}}

        end)

        library.addEventHandlers(library)

        library.addEventHandlers(system)

        library.addEventHandlers(player)

        library.addEventHandlers(construct)

        library.addEventHandlers(unit)

        library.addEventHandlers(core)

        library.addEventHandlers(disk)

        library.addEventHandlers(warp)
  system:
    onActionStart(action):
      lua: system:triggerEvent('onActionStart',action)
    onActionLoop(action):
      lua: system:triggerEvent('onActionLoop',action)
    onActionStop(action):
      lua: system:triggerEvent('onActionStop',action)
    onUpdate():
      lua: system:triggerEvent('onUpdate')
    onFlush():
      lua: system:triggerEvent('onFlush')
    onInputText(text):
      lua: system:triggerEvent('onInputText',text)
    onCameraChanged(mode):
      lua: system:triggerEvent('onCameraChanged',mode)
  player:
    "onParentChanged(oldId,newId)":
      lua: player:triggerEvent('onParentChanged',oldId,newId)
  construct:
    onDocked(id):
      lua: construct:triggerEvent('onDocked',id)
    onUndocked(id):
      lua: construct:triggerEvent('onUndocked',id)
    onPlayerBoarded(id):
      lua: construct:triggerEvent('onPlayerBoarded',id)
    onVRStationEntered(id):
      lua: construct:triggerEvent('onVRStationEntered',id)
    onConstructDocked(id):
      lua: construct:triggerEvent('onConstructDocked',id)
    onPvPTimer(active):
      lua: construct:triggerEvent('onPvPTimer',active)
  unit:
    onStop():
      lua: unit:triggerEvent('onStop')
    onTimer(timerId):
      lua: unit:triggerEvent('onTimer',timerId)
    onStart():
      lua: >-
        AllowAtmo=false --export: Allow autopilot near planets (<= 400 km from
        surface)

        FuelForBurn=60 --export: the amount of fuel required to get up to sufficient speed for space travel (in metric tonnes)

        local a=0;local b=0;local c=0;local d=0;local e=0;local f=0;local g=0;local h={0,0,0}local i=0;local j=0;local k=0;local l=0;local m=0;local n=0;local o=0;local p=0;local q=0;local r,s,t,u,v=0,nil,0,0,0;local w,x="",""local y=(unit.getAtmosphereDensity()or 0)>0;local z=false;local A=9;local B=false;local C=false;local D=0;local E=0;Nav=Navigator.new(system,core,unit)Nav.axisCommandManager:setupCustomTargetSpeedRanges(axisCommandId.longitudinal,{1000,5000,10000,20000,30000})Nav.axisCommandManager:setTargetGroundAltitude(200)if axisCommandId and axisCommandType then unit.setupAxisCommandProperties(axisCommandId.longitudinal,axisCommandType.byThrottle,nil)if axisCommandId.lateral then unit.setupAxisCommandProperties(axisCommandId.lateral,axisCommandType.byThrottle,nil)end;if axisCommandId.vertical then unit.setupAxisCommandProperties(axisCommandId.vertical,axisCommandType.byThrottle,nil)end;unit.setAxisCommandValue(axisCommandId.longitudinal,0)if axisCommandId.lateral then unit.setAxisCommandValue(axisCommandId.lateral,0)end;if axisCommandId.vertical then unit.setAxisCommandValue(axisCommandId.vertical,0)end end;unit.hideWidget()system.showHelper(false)system.showScreen(false)construct.setDockingMode(1)local F=require('Sky:atlas.lua')local G=nil;local H;local function I(J,K,L)if J<K then return K end;if J>L then return L end;return J end;local function M(N,O)return vec3((N.x or N[1]or 0)-(O.x or O[1]or 0),(N.y or N[2]or 0)-(O.y or O[2]or 0),(N.z or N[3]or 0)-(O.z or O[3]or 0))end;local function P(Q)if Q=='COMMAND REJECTED'or Q=='COMMAND ACCEPTED'or Q=='COMMAND COMPLETED'or Q=='EMERGENCY STOP'or Q=='PRIMED'or z then system.print(Q)end end;local function R()if system.getArkTime then local S=system.getArkTime()if type(S)=='number'then return S end end;if system.getTime then local S=system.getTime()if type(S)=='number'then return S end end;return 0 end;local function T()local U=0;local V={}if core and core.getElementIdList and(core.getElementDisplayNameById or core.getElementTypeById)then local W,X=pcall(core.getElementIdList)if W and type(X)=='table'then for Y,Z in pairs(X)do if not V[Z]then local _=nil;if core.getElementDisplayNameById then local a0,a1=pcall(core.getElementDisplayNameById,Z)if a0 then _=a1 end elseif core.getElementTypeById then local a2,a3=pcall(core.getElementTypeById,Z)if a2 then _=a3 end end;if type(_)=='string'then local a4=_:lower()if a4:find('space')and a4:find('fuel')and a4:find('tank')then local a5=0;local a6,a7=false,nil;if core.getElementMassById then a6,a7=pcall(core.getElementMassById,Z)end;local a8=0;if core.getElementItemIdById and system.getItem then local a9,aa=pcall(core.getElementItemIdById,Z)if a9 and aa then local ab,ac=pcall(system.getItem,aa)if ab and type(ac)=='table'then a8=tonumber(ac.unitMass or ac.mass or 0)or 0 end end end;if a6 and type(a7)=='number'then a5=math.max(0,a7-(a8 or 0))end;U=U+(a5 or 0)end end end end end end;return U end;local function ad(ae)local af=ae*1000;local ag=0;local ah,ai=pcall(T)if ah and type(ai)=='number'then ag=ai end;return ag>=(af or 0)end;local aj=false;local ak='idle'local al=0;local am=0;local an=0;local ao=0;local ap=0;local aq=0;local ar=0;local as=false;local at=false;local au=0.5;local av=0;local aw=false;local ax=250;local ay=0;local function az(aA,aB)local aC=F[aA]if not aC or not aB then return true end;local aD,aE=math.huge,0;for Y,aF in pairs(aC)do local aG=aF and aF.center;if aG then local aH=M(aB,aG)local aI=aH:dot(aH)if aI<aD then aD=aI;aE=aF.hasAtmosphere and aF.atmosphereRadius or(aF.radius or 0)end end end;if aD==math.huge then return true end;return math.sqrt(aD)>aE+1.0 end;local function aJ()aj=false;ak='idle'al=0;am=0;an=0;ao=0;ap=0;aq=0;ar=0;at=false;av=0;aw=false end;local function aK(aL)local aM=aL or 0;if aM>=0.5 then Nav.axisCommandManager:updateCommandFromActionStart(axisCommandId.longitudinal,1000)unit.setAxisCommandValue(axisCommandId.longitudinal,1)else Nav.axisCommandManager:resetCommand(axisCommandId.longitudinal)unit.setAxisCommandValue(axisCommandId.longitudinal,0)end;if axisCommandId.lateral then unit.setAxisCommandValue(axisCommandId.lateral,0)end;if axisCommandId.vertical then unit.setAxisCommandValue(axisCommandId.vertical,0)end end;local function aN()if not G then return end;if y then P('Autopilot: not starting in atmosphere')return end;if not AllowAtmo then if r and H(r,G)then P('COMMAND REJECTED')return end end;local aO=vec3(construct.getWorldPosition())an=M(G,aO):len()ao=an*0.6;if an<=20000 and r and az(r,G)then ak='approach_align'P('Autopilot: short hop (<20 km), gentle approach')else if not ad(FuelForBurn)then P('COMMAND REJECTED')P('Insufficient space fuel (<60t)')return end end;aj=true;ak='align'al=R()am=0;ap=0;aq=0;at=false;av=0;B=true;C=false;d=0;unit.setupAxisCommandProperties(axisCommandId.longitudinal,axisCommandType.byThrottle,nil)if axisCommandId.lateral then unit.setupAxisCommandProperties(axisCommandId.lateral,axisCommandType.byThrottle,nil)end;if axisCommandId.vertical then unit.setupAxisCommandProperties(axisCommandId.vertical,axisCommandType.byThrottle,nil)end;system.setWaypoint(x,false)P('COMMAND ACCEPTED')P('Autopilot: align to destination')end;local function aP(aQ,aR,aS,aT,k)local aU=math.rad(aS or 0)local aM=math.rad(aT or 0)local aV=(aR or 0)+(k or 0)local aW=aV*math.cos(aU)*math.cos(aM)local aX=aV*math.cos(aU)*math.sin(aM)local aY=aV*math.sin(aU)return vec3((aQ[1]or 0)+aW,(aQ[2]or 0)+aX,(aQ[3]or 0)+aY)end;local function aZ(aA,a_)local aC=F[aA]if not aC then return nil end;if a_==0 then return{0,0,0},0 end;local aF=aC[a_]if not aF then return nil end;local aG=aF.center;local b0=aF.radius or 0;return aG,b0 end;local function b1(aA,a_,N,O,aG)if a_==0 then return vec3(N or 0,O or 0,aG or 0)end;local aQ,aR=aZ(aA,a_)if aQ and aR then return aP(aQ,aR,N,O,aG)end;return nil end;local function b2(aA,aB)local aC=F[aA]if not aC or not aB then return nil end;local b3,b4=nil,nil;for Z,aF in pairs(aC)do local aG=aF and aF.center;local b5=aF and aF.name and aF.name[1]if aG and b5 then local aH=M(aB,aG)local aI=aH:dot(aH)if not b4 or aI<b4 then b4=aI;b3=b5 end end end;return b3 end;local function b6(b7)if not b7 or type(b7)~='string'then return nil end;local b8=b7:match('^%s*(.-)%s*$'):lower()if b8==''then return nil end;for b9,aC in pairs(F)do if type(aC)=='table'then for a_,aF in pairs(aC)do local b5=aF and aF.name and aF.name[1]if type(b5)=='string'and b5:lower()==b8 then return b9,a_,aF end end end end;return nil end;H=function(aA,aB)local aC=F[aA]if not aC or not aB then return false end;local ba=vec3(aB.x or aB[1],aB.y or aB[2],aB.z or aB[3])for Y,aF in pairs(aC)do local aG=aF and aF.center;local bb=aF and aF.radius;if aG and bb and bb>0 then local aQ=vec3(aG[1],aG[2],aG[3])local bc=(ba-aQ):len()-bb;if bc<=400000 then return true end end end;return false end;local function bd()if not G or not r then return math.huge end;if s==0 then return math.huge end;local aF=(F[r]or{})[s]if not aF then return math.huge end;local bb=aF.hasAtmosphere and aF.atmosphereRadius or(aF.radius or 0)local be=aF.center;if not(bb and bb>0 and be)then return math.huge end;local bf=vec3(be[1],be[2],be[3])local bg=vec3(construct.getWorldPosition())local bh=M(G,bg)local bi=bh:len()if bi<=1e-6 then return math.huge end;local bj=bh/bi;local bk=M(bg,bf)local O=bk:dot(bj)local aG=bk:dot(bk)-bb*bb;local bl=O*O-aG;if bl and bl>=0 then local bm=math.sqrt(bl)local bn=-O-bm;local bo=-O+bm;local S;if bn>=0 then S=bn elseif bo>=0 then S=bo end;if S and S>=0 then return S end end;local bp=M(bg,bf):len()return math.max(0,bp-bb)end;local function bq(br)if type(br)~='string'then return nil end;local N,O,aU,aM,bs=br:match('::pos{%s*([%-%d%.]+)%s*,%s*([%-%d%.]+)%s*,%s*([%-%d%.]+)%s*,%s*([%-%d%.]+)%s*,%s*([%-%d%.]+)%s*}')if not N then return nil end;return tonumber(N),tonumber(O),tonumber(aU),tonumber(aM),tonumber(bs)end;system:onEvent('onInputText',function(self,bt)if type(bt)~='string'then return end;do local bu=bt:match('^%s*(.-)%s*$')if bu and bu:lower()=='warp'then if not AllowAtmo then P('COMMAND REJECTED')return end;local bv=false;if warp and warp.getStatus then local ah,bw=pcall(warp.getStatus)if ah and bw==15 then bv=true end end;if bv and warp and warp.initiate then P('COMMAND ACCEPTED')P('Warp: initiating (user command)')pcall(function()warp.initiate()end)at=true else P('COMMAND REJECTED')end;return end end;do local bu=bt:match('^%s*(.-)%s*$')if bu and bu:lower()=='allstop'then as=true;B=false;C=false;d=1;aK(0)aJ()P('All stop: throttle 0 and brakes applied')P('EMERGENCY STOP')return end end;do local bu=bt:match('^%s*(.-)%s*$')if bu and bu:lower()=='list'then if not disk then P('No databank |disk| linked: cannot list')return end;local bx={}if disk.getKeyList then local by=disk.getKeyList()if type(by)=='table'then for Y,bz in ipairs(by)do table.insert(bx,tostring(bz))end end end;if#bx==0 and disk.getNbKeys and disk.getKey then local b5=tonumber(disk.getNbKeys())or 0;for bA=0,math.max(b5-1,0)do local bz=disk.getKey(bA)if bz then table.insert(bx,tostring(bz))end end;if#bx==0 then for bA=1,b5 do local bz=disk.getKey(bA)if bz then table.insert(bx,tostring(bz))end end end end;if#bx==0 then P('No keys found in databank')return end;local bB=0;for Y,bC in ipairs(bx)do local aL=disk.getStringValue and disk.getStringValue(bC)or nil;if type(aL)=='string'and aL:find('^::pos%{')then local bD,bE,aU,aM,bs=bq(aL)if bD then local aQ,aR=aZ(bD,bE)if aQ and aR then P(bC)bB=bB+1 end end end end;if bB==0 then P('No valid waypoint entries found')else P(string.format('Listed %d valid waypoint entries',bB))end;return end end;local b7,bF=bt:match('^%s*([^:][%w%._%-%s]*)%s+(::pos%b{})%s*$')if b7 and bF then b7=b7:match('^%s*(.-)%s*$')w,x=b7,bF;if disk and disk.setStringValue then disk.setStringValue(w,x)P(string.format('Saved %s -> %s',w,x))else P('No databank |disk| linked: cannot save')end;r,s,t,u,v=bq(x)if r then local ba=b1(r,s,t,u,v)if ba then G=ba;P(string.format('Destination set to %s',w))aN()end end;return end;do local b9,a_,aU,aM,bs=bq(bt)if b9 then r,s,t,u,v=b9,a_,aU,aM,bs;w="Unknown"x=bt;local ba=b1(b9,a_,aU,aM,bs)if ba then G=ba;if a_==0 then P(string.format('Destination set to space (x %.1f, y %.1f, z %.1f)',aU,aM,bs))else P(string.format('Destination set to system %d body %d (lat %.4f, lon %.4f, alt %.1f)',b9,a_,aU,aM,bs))end;aN()return else P('Invalid ::pos body/system for atlas')return end end end;do local bC=bt:match('^%s*(.-)%s*$')if bC and bC~=''then local b9,a_,aF=b6(bC)if b9 and a_ and aF and aF.center then w=aF.name and aF.name[1]or bC;r,s=b9,a_;t,u,v=0,0,0;local aG=aF.center;G=vec3(aG[1],aG[2],aG[3])P(string.format("Destination set to body '%s' (system %s, id %s)",tostring(w),tostring(b9),tostring(a_)))aN()return end end end;if disk and disk.getStringValue then local bC=bt:match('^%s*(.-)%s*$')local bG=disk.getStringValue(bC)if bG and bG:find('^::pos%{')then w,x=bC,bG;local b9,a_,aU,aM,bs=bq(bG)if b9 then r,s,t,u,v=b9,a_,aU,aM,bs;local ba=b1(b9,a_,aU,aM,bs)if ba then G=ba;P(string.format('Destination recalled: %s -> %s',bC,bG))aN()return else P('Saved ::pos not valid for current atlas')return end end end end;P('Unrecognized input. Use |name ::pos{...}| to save, |::pos{...}| to set, or a saved name to recall.')end)system:onEvent('onFlush',function(self)local bH=0.8;local bI=1;local bJ=1.5;local bK=3;local bL=1;local bM=true;local bN=2;local bO=true;local bP=2;local bQ=2;bH=math.max(bH,0.01)bI=math.max(bI,0.01)bJ=math.max(bJ,0.01)bQ=math.max(bQ,0.01)bK=math.max(bK,0.01)bL=math.max(bL,0.01)bN=math.max(bN,0.01)bP=math.max(bP,0.01)local bR=a+system.getControlDeviceForwardInput()local bS=b+system.getControlDeviceYawInput()local bT=c-system.getControlDeviceLeftRightInput()local bU=d;local bV=vec3(core.getWorldVertical())local bW=vec3(construct.getWorldOrientationUp())local bX=vec3(construct.getWorldOrientationForward())local bY=vec3(construct.getWorldOrientationRight())h=vec3(construct.getWorldVelocity())local bZ=vec3(construct.getWorldVelocity()):normalize()local b_=getRoll(bV,bX,bY)local c0=math.abs(b_)local c1=utils.sign(b_)do if B and G and not y then local aO=vec3(construct.getWorldPosition())local c2=M(G,aO)local c3=c2:len()if c3 and c3>1e-3 then local c4=0.45;local c5=0.45;local c6=0.001;local c7=bX;local c8=bW;local c9=bY;local aW=c2:dot(c7)local ca=c2:dot(c9)local cb=c2:dot(c8)local cc=math.deg(math.atan(ca,aW))local cd=math.deg(math.atan(cb,aW))local function ce(J)if J>1 then return 1 elseif J<-1 then return-1 else return J end end;local cf=math.min(math.abs(cc)/45.0,1.0)local cg=math.min(math.abs(cd)/30.0,1.0)local ch=ce(-c4*cc*cf*cf)local ci=ce(c5*cd*cg*cg)if math.abs(cc)<c6 then ch=0 end;if math.abs(cd)<c6 then ci=0 end;local cj=0.03;if math.abs(cc)>=c6 and ch~=0 and math.abs(ch)<cj then ch=(ch>0 and 1 or-1)*cj end;if math.abs(cd)>=c6 and ci~=0 and math.abs(ci)<cj then ci=(ci>0 and 1 or-1)*cj end;local ck=0.9;D=D+ck*(ch-D)E=E+ck*(ci-E)bT=D;bR=E end else D=0;E=0 end end;do local cl=bZ;local c7=vec3(construct.getWorldOrientationForward())local cm=I(cl:dot(c7),-1,1)local cn=math.deg(math.acos(cm))cn=math.min(cn,45)stallScaled=math.floor(cn/45*60+0.5)end;do if G then local aO=vec3(construct.getWorldPosition())local c2=M(G,aO)local c8=vec3(construct.getWorldOrientationUp())local c9=vec3(construct.getWorldOrientationRight())local co=c2-c8*c2:dot(c8)local cp=c2-c9*c2:dot(c9)local cq=co:len()local cr=cp:len()if cq>1e-6 then co=co/cq;local c7=vec3(construct.getWorldOrientationForward())local c9=vec3(construct.getWorldOrientationRight())local aW=co:dot(c7)local aX=co:dot(c9)local cc=math.deg(math.atan(aX,aW))local cs=math.max(-90,math.min(90,cc))headingScaled=math.floor(cs/90*130+0.5)end;if cr>1e-6 then cp=cp/cr;local c7=vec3(construct.getWorldOrientationForward())local c8=vec3(construct.getWorldOrientationUp())local aW=cp:dot(c7)local aX=cp:dot(c8)local cd=math.deg(math.atan(aX,aW))local ct=I(cd,-45,45)local cu=(ct+45)/90;climbScaled=math.floor(cu*110+0.5)end end end;do local c7=vec3(construct.getWorldOrientationForward())i=h:dot(c7)*3.6;if i<0 then i=0 end;local br=math.min(i,1000)/1000*110;speedScaled=math.floor(br+0.5)end;do local aO=vec3(construct.getWorldPosition())local cv=math.huge;local cw=0;for b9,aC in pairs(F)do if type(aC)=='table'then for a_,aF in pairs(aC)do if type(aF)=='table'and aF.center then local aG=aF.center;local aH=M(aO,vec3(aG[1],aG[2],aG[3])):len()if aH<cv then cv=aH;cw=aF.radius or 0 end end end end end;k=math.max(cv-cw,0)local br=math.min(k,3500)/3500*110;altScaled=math.floor(br+0.5)end;do if G then local aO=vec3(construct.getWorldPosition())g=M(G,aO):len()/1000 end end;local cx=vec3(construct.getWorldAngularVelocity())if aw then bR=0;bS=0;bT=0 end;local cy=bR*bH*bY+bS*bJ*bX+bT*bI*bW;if bV:len()>0.01 and unit.getAtmosphereDensity()>0.0 then local cz=1.0;if bM==true and c0>cz and bS==0 then local cA=utils.clamp(0,c0-30,c0+30)if rollPID==nil then rollPID=pid.new(bN*0.01,0,bN*0.1)end;rollPID:inject(cA-b_)local cB=rollPID:get()cy=cy+cB*bX end;local cC=20.0;if bO==true and c0>cC and bR==0 and bT==0 then local cD=bP*0.1;local cE=bP*0.025;local cF=(c0-cC)/(180-cC)*180;local cG=0;if cF<90 then cG=cF/90 elseif cF<180 then cG=(180-cF)/90 end;cG=cG*cG;local cH=-c1*cE*(1.0-cG)local cI=cD*cG;cy=cy+cI*bY+cH*bW end end;local cJ=1;local cK=0;local cL=1;if aw then cy=vec3()end;local cM=bQ*(cy-cx)local cN=vec3(construct.getWorldAirFrictionAngularAcceleration())cM=cM-cN;Nav:setEngineTorqueCommand('torque',cM,cJ,'airfoil','','',cL)local cO=-bU*(bK*h+bL*bZ)Nav:setEngineForceCommand('brake',cO)local cP=''local cQ=vec3()local cR=false;local cS='thrust analog longitudinal'local cT=Nav.axisCommandManager:getAxisCommandType(axisCommandId.longitudinal)if cT==axisCommandType.byThrottle then local cU=Nav.axisCommandManager:composeAxisAccelerationFromThrottle(cS,axisCommandId.longitudinal)Nav:setEngineForceCommand(cS,cU,cJ)elseif cT==axisCommandType.byTargetSpeed then unit.setupAxisCommandProperties(axisCommandId.longitudinal,axisCommandType.byThrottle,nil)local cU=Nav.axisCommandManager:composeAxisAccelerationFromThrottle(cS,axisCommandId.longitudinal)Nav:setEngineForceCommand(cS,cU,cJ)end;local cV='thrust analog lateral'local cW=Nav.axisCommandManager:getAxisCommandType(axisCommandId.lateral)if cW==axisCommandType.byThrottle then local cX=Nav.axisCommandManager:composeAxisAccelerationFromThrottle(cV,axisCommandId.lateral)Nav:setEngineForceCommand(cV,cX,cJ)elseif cW==axisCommandType.byTargetSpeed then unit.setupAxisCommandProperties(axisCommandId.lateral,axisCommandType.byThrottle,nil)local cX=Nav.axisCommandManager:composeAxisAccelerationFromThrottle(cV,axisCommandId.lateral)Nav:setEngineForceCommand(cV,cX,cJ)end;local cY='thrust analog vertical'local cZ=Nav.axisCommandManager:getAxisCommandType(axisCommandId.vertical)if cZ==axisCommandType.byThrottle then local c_=Nav.axisCommandManager:composeAxisAccelerationFromThrottle(cY,axisCommandId.vertical)Nav:setEngineForceCommand(cY,c_,cJ,'airfoil','ground','',cL)elseif cZ==axisCommandType.byTargetSpeed then unit.setupAxisCommandProperties(axisCommandId.vertical,axisCommandType.byThrottle,nil)local c_=Nav.axisCommandManager:composeAxisAccelerationFromThrottle(cY,axisCommandId.vertical)Nav:setEngineForceCommand(cY,c_,cJ,'airfoil','ground','',cL)end;if cQ:len()>constants.epsilon then if d~=0 or cR or math.abs(bZ:dot(bX))<0.95 then cP=cP..', brake'end;Nav:setEngineForceCommand(cP,cQ,cK,'','','',cL)end end)system:onEvent('onUpdate',function(self)y=(unit.getAtmosphereDensity()or 0)>0;local J=vec3(construct.getWorldVelocity())j=math.sqrt(J.x*J.x+J.y*J.y+J.z*J.z)local d0=vec3(construct.getWorldOrientationForward())local d1=math.abs(J:dot(d0))local d2=vec3(construct.getWorldAngularVelocity()):len()local function d3()return d1<=0.5 and d2<=0.5 end;f=construct.getTotalMass()or 0;local function d4(aW)return aW~=nil and aW or 0 end;local function d5(aW)return aW==aW and aW~=math.huge and aW~=-math.huge end;local d6=construct.getCurrentBrake()if d6==nil or d6<=0 then d6=construct.getMaxBrake()or 0 end;local d7,d8,d9=d4(h and h.x),d4(h and h.y),d4(h and h.z)local da=d7*d7+d8*d8+d9*d9;local db=da>=0 and d5(da)and math.sqrt(da)or 0;e=math.floor(f*db*db)/(2*d6)if y then B=false;if C then d=0 end;C=false;if aj then P('Autopilot: canceled (atmosphere detected)')aJ()end;aw=false end;if G then if az(r,G)then if C and math.floor(g)<math.ceil(e/1000)+A and j>10 then d=1 elseif C and j<=0.5 then d=0;C=false end else if C and math.floor(bd())<math.ceil(e+49000)and j>10 then d=1 elseif C and j<=0.5 then d=0;C=false end end end;if aj and G and not y then local dc=R()local function dd()local aO=vec3(construct.getWorldPosition())local c2=M(G,aO)local de=c2:len()if not de or de<=1e-6 then return 0 end;local c7=vec3(construct.getWorldOrientationForward())local df=(c2/de):dot(c7)df=math.min(1,math.max(-1,df))return math.deg(math.acos(df))end;local function dg()local aO=vec3(construct.getWorldPosition())return M(G,aO):len()end;if ak=='align'then B=true;local dh=1.0;if dd()<=dh then if am==0 then am=dc end;if dc-am>=0.5 then aK(1)C=true;P('Autopilot: aligned; throttle max with auto-brake')ak='cruise'ap=j or 0;aq=dc end else am=0 end elseif ak=='cruise'then local di=construct.getMaxSpeed and construct.getMaxSpeed()or 0;local dj=false;if di and di>0 then dj=j>=0.995*di else local dk=1.0;if j>ap+dk then ap=j;aq=dc end;dj=dc-aq>=3.0 end;local dl=dg()local dm=ao>0 and dl<=ao;if dm or dj then aK(0)P('Autopilot: throttle 0; braking...')ak='brake'end elseif ak=='brake'then aw=true;if d3()then if r and az(r,G)then ak='approach_align'am=0;B=true;P('Autopilot: gentle approach setup')else B=false;ak='done'P('Autopilot: arrived; exiting seat')P('COMMAND COMPLETED')pcall(function()aK(0)unit.exit()end)aJ()end end elseif ak=='approach_align'then B=true;local dh=1.0;if dd()<=dh then if am==0 then am=dc end;if dc-am>=0.3 then aK(1)ak='approach'P('Autopilot: gentle approach (<=200 km/h) with autobrake')end else am=0 end elseif ak=='approach'then B=true;local dn=dg()/1000;if not C and dn<=1 and d3()then B=false;ak='done'P('Autopilot: arrived; exiting seat')P('COMMAND COMPLETED')pcall(function()aK(0)unit.exit()end)aJ()end;if dn<=2 and j>20 then aK(0)A=ay;C=true end;local dp=ax/3.6;if j>dp then aK(0)A=ay;C=true end else aw=false end end;if as then aw=true;aK(0)B=false;d=1;if d3()then d=0;as=false;aw=false;pcall(function()unit.exit()end)end end end)P("PRIMED")
