name: Sky CMD
slots:
  core:
    name: core
    class: CoreUnit
    select: null
    type:
      events: []
      methods: []
  disk:
    name: disk
    class: DataBankUnit
    select: null
    type:
      events: []
      methods: []
  warp:
    name: warp
    class: WarpDriveUnit
    select: null
    type:
      events: []
      methods: []
handlers:
  core:
    onStressChanged(stress):
      lua: core:triggerEvent('onStressChanged',stress)
  disk: {}
  warp: {}
  library:
    onStart():
      lua: >-
        ;(function()

        local a={}local b=0;function library.addEventHandlers(c)if not c or c.onEvent and c.triggerEvent then return false end;b=b+1;a[b]=c;local d,e,f='table','function','thread'if d~=type(c)then error('You can only add event handlers to table objects!')end;local g={}local function h(c)local i=type(c)return e==i or d==i and h(getmetatable(c).__call)or f==i end;c.onEvent=function(self,j,k,l)if not h(k)then error('Event handler must be a function, a callable object or a thread!')end;l=l or self;if d~=type(l)then error('The value of self must be a table!')end;if not g[j]then g[j]={_=0}end;local m=f==type(k)and function(...)coroutine.resume(k,...)end or k;local k=g[j]local n=k._+1;k[n]={m,l}k._=n;return n end;c.clearEvent=function(self,j,o)if g[j]and g[j][o]then g[j][o]=nil end end;c.clearAllEvents=function(self)g={}end;c.triggerEvent=function(self,j,...)local p=g[j]if p then for q=1,p._ do local k=p[q]if k then k[1](k[2],...)end end end end;return true end;function library.clearAllEventHandlers()for q=1,b do local c=a[q]if c and c.clearAllEvents then c:clearAllEvents()end end end

        end)()

        ;(function()

        local a=DULibrary or{}function a.getLinks(b,c)local d={}if not b then b={}end;for e,f in pairs(unit.getOutPlugs())do local g=unit[f.name]if'table'==type(g)and'function'==type(g.getClass)then local h=true;for i,j in pairs(b)do if not('function'==type(g[i])and j==g[i]():sub(1,#j))then h=false;break end end;if h then if c then table.insert(d,g)else d[f.name]=g end end end end;return d end;function a.getLinksByClass(k,c)return a.getLinks({getClass=k},c)end;function a.getLinkByClass(k)return a.getLinksByClass(k,true)[1]end;function a.getCoreUnit()return a.getLinkByClass('CoreUnit')end;function a.getLinkByName(l)local m=a.getCoreUnit()if not m then error('getLinkByName requires a linked CoreUnit to work')end;local d=a.getLinks()for n,o in pairs(d)do if l==m.getElementNameById(o.getLocalId())then return o end end end

        end)()

        package.preload['Sky:atlas.lua']=(function()

        return{[0]={[1]={id=1,name={"Madis","Madis","Madis"},type={"Planet","Planète","Planet"},biosphere={"Barren","Désert","Karg"},classification={"Hyperthermoplanet","Hyperthermoplanète","Hyperthermoplanet"},habitability={"Low","Faible","Niedrig"},description={[[Madis is a barren wasteland of a rock; it sits closest to the sun and temperatures reach extreme highs during the day. The arkship geological survey reports high plateaus intermittently separated by small ravines.]],[[Madis est un rocher stérile. En tant que planète la plus proche du soleil, sa température est extrêmement élevée pendant la journée. L'étude géologique du Vaisseau-Arche signale de longues vallées rocheuses séparées ponctuellement par de petits ravins.]],[[Madis ist eine karge Felsenwüste und hat den engsten Orbit um die Sonne. Tagsüber herrschen extrem hohe Temperaturen. Die geologische Untersuchung des Archenschiffs berichtet von ausgedehnten felsigen Tälern, die ab und zu von kleinen Schluchten unterbrochen werden.]]},iconPath="gui/screen_unit/img/planets/madis.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=true,systemId=0,positionInSystem=1,satellites={10,11,12},center={17465536.00,22665536.00,-34464.00},gravity=3.5325,radius=44300.00,atmosphereThickness=12000.00,atmosphereRadius=56500.00,surfaceArea=24661376667,surfaceAverageAltitude=720.30,surfaceMaxAltitude=1261.97,surfaceMinAltitude=451.43,GM=6932495925.00,maxStaticAltitude=1460.00,ores={4234772167,262147665,3724036288,299255727,2029139010,4041459743},territories=30722},[10]={id=10,name={"Madis Moon 1","Madis Lune 1","Madis Mond 1"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/madis_moon_1.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=1,positionInSystem=1,satellites=nil,center={17448118.86,22966848.03,143079.98},gravity=0.7850,radius=10000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=78500000.00,surfaceArea=1256637056,surfaceAverageAltitude=191.685,surfaceMaxAltitude=458.48,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={299255727,4234772167,343766315,1050500112},territories=1472},[11]={id=11,name={"Madis Moon 2","Madis Lune 2","Madis Mond 2"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/madis_moon_2.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=1,positionInSystem=2,satellites=nil,center={17194626.00,22243633.88,-214962.81},gravity=0.9420,radius=12000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=135648000.00,surfaceArea=1809557376,surfaceAverageAltitude=-1825.951,surfaceMaxAltitude=651.737,surfaceMinAltitude=-4018.44,maxStaticAltitude=2500.00,ores={4234772167,3724036288,2289641763,3837858336},territories=1922},[12]={id=12,name={"Madis Moon 3","Madis Lune 3","Madis Mond 3"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/madis_moon_3.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=1,positionInSystem=3,satellites=nil,center={17520617.44,22184726.90,-309986.22},gravity=1.1775,radius=15000.00,atmosphereThickness=0,atmosphereRadius=0,GM=264937500.00,surfaceArea=2827433472,surfaceAverageAltitude=433.322,surfaceMaxAltitude=1112.76,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={3724036288,262147665,2029139010,1065079614},territories=3632},[2]={id=2,name={"Alioth","Alioth","Alioth"},type={"Planet","Planète","Planet"},biosphere={"Forest","Forêt","Wald"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"High","Élevée","Hoch"},description={[[Alioth is the planet selected by the arkship for landfall; it is a typical goldilocks planet where humanity may rebuild in the coming decades. The arkship geological survey reports mountainous regions alongside deep seas and lush forests. This is where it all starts.]],[[Alioth est la planète sélectionnée par le Vaisseau-Arche pour l'atterrissage. C'est une planète Boucles d'or classique où l'humanité pourra se reconstruire dans les décennies à venir. L'étude géologique du Vaisseau-Arche signale des zones montagneuses ainsi que des océans profonds et des forêts denses. C'est ici que tout commence.]],[[Alioth ist der Planet, den das Archenschiff für die Landung ausgewählt hat. Wie die Erde umkreist er seinen Stern in der habitablen Zone und ist der perfekte Ort, um in den kommenden Jahrzehnten den Wiederaufbau der Menschheit zu beginnen. Die geologische Untersuchung des Archenschiffs berichtet von bergigen Regionen neben tiefen Meeren und üppigen Wäldern. Hier fängt alles an.]]},iconPath="gui/screen_unit/img/planets/alioth.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=true,systemId=0,positionInSystem=2,satellites={21,22,26,27},center={-8.00,-8.00,-126303.00},gravity=9.8910,radius=126067.90,atmosphereThickness=6400.00,atmosphereRadius=132460.00,surfaceArea=199718780928,surfaceAverageAltitude=94.556,surfaceMaxAltitude=1091.73,surfaceMinAltitude=-548.89,GM=157198800627.69,maxStaticAltitude=1300.00,ores={299255727,3724036288,262147665,4234772167,3086347393,1050500112},territories=259472},[21]={id=21,name={"Alioth Moon 1","Alioth Lune 1","Alioth Mond 1"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/alioth_moon_1.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=2,positionInSystem=2,satellites=nil,center={457932.99,-1509009.24,115525.00},gravity=2.3550,radius=30000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=2119500000.00,surfaceArea=11309733888,surfaceAverageAltitude=43.665,surfaceMaxAltitude=305.16,surfaceMinAltitude=-176.382,maxStaticAltitude=2500.00,ores={299255727,3724036288,343766315,4041459743},territories=14522},[22]={id=22,name={"Alioth Moon 4","Alioth Lune 4","Alioth Mond 4"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/alioth_moon_4.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=2,positionInSystem=3,satellites=nil,center={-1692694.85,729681.81,-411465.62},gravity=2.3809,radius=30330.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=2190215699.55,surfaceArea=11559916544,surfaceAverageAltitude=-6.453,surfaceMaxAltitude=-42.324,surfaceMinAltitude=-83.175,maxStaticAltitude=2500.00,ores={262147665,4234772167,2029139010,1065079614},territories=14522},[26]={id=26,name={"Sanctuary","Sanctuary","Sanctuary"},type={"Moon","Lune","Mond"},biosphere={"Forest","Forêt","Wald"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"High","Elevée","Hoch"},description=nil,iconPath="gui/screen_unit/img/planets/sanctuary_moon.png",hasAtmosphere=true,isSanctuary=true,isInSafeZone=true,systemId=2,positionInSystem=1,satellites=nil,center={-1404834.53,562655.32,-285074.95},gravity=9.8100,radius=83400.00,atmosphereThickness=8000.00,atmosphereRadius=91350.00,GM=68234043600.00,surfaceArea=87406149632,surfaceAverageAltitude=97.905,surfaceMaxAltitude=512.067,surfaceMinAltitude=-109.20,maxStaticAltitude=2500.00,ores={3724036288,299255727,262147665,4234772167},territories=111632},[27]={id=27,name={"Haven","Haven","Haven"},type={"Moon","Lune","Mond"},biosphere={"Forest","Forêt","Wald"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"High","Elevée","Hoch"},description=nil,iconPath="gui/screen_unit/img/planets/haven_moon.png",hasAtmosphere=true,isSanctuary=true,isInSafeZone=true,systemId=2,positionInSystem=4,satellites=nil,center={-1205152.02,1124841.79,-2638867.62},gravity=9.8100,radius=83443.02,atmosphereThickness=8000.00,atmosphereRadius=91300.00,GM=68304461353.44,surfaceArea=87496299100,surfaceAverageAltitude=132.365,surfaceMaxAltitude=788.779,surfaceMinAltitude=-22.402,maxStaticAltitude=2500.00,ores={299255727,3724036288,4234772167,262147665},territories=111632},[3]={id=3,name={"Thades","Thades","Thades"},type={"Planet","Planète","Planet"},biosphere={"Desert","Désert","Wüste"},classification={"Thermoplanet","Thermoplanète","Thermoplanet"},habitability={"Low","Faible","Niedrig"},description={[[Once a mainly aquatic world, Thades suffered a cataclysmic disaster, and its water was evaporated into space. Now Thades is a dried-out planet scarred by an abyssal trench, the only place left able to sustain life. Ejected rocks gathered into an asteroid belt, where the explorers can settle.]],[[Thades est une planète désertique brûlée. Il est possible qu'elle ait été pleine de vie à une époque, mais il ne reste plus que des cendres et de la poussière. L'étude géologique du Vaisseau-Arche signale des montagnes rocheuses coupées par un immense ravin non naturel. Il est arrivé quelque chose à cette planète.]],[[Thades ist ein verbrannter Wüstenplanet. Vielleicht war er einst voller Leben, aber jetzt sind nur noch Asche und Staub übrig. Die geologische Untersuchung des Archenschiffs berichtet von einem felsigen, gebirgigen Planeten, der von einer riesigen, unnatürlichen Schlucht durchschnitten wird. Irgendetwas muss diesem Planeten zugestoßen sein.]]},iconPath="gui/screen_unit/img/planets/thades.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=true,systemId=0,positionInSystem=3,satellites={30,31,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433},center={29165536.00,10865536.00,65536.00},gravity=4.8670,radius=49000.00,atmosphereThickness=40000.00,atmosphereRadius=89000.00,GM=11685667000.00,surfaceArea=30171856896,surfaceAverageAltitude=12536.892,surfaceMaxAltitude=13809.09,surfaceMinAltitude=-778.1,maxStaticAltitude=14709.00,ores={3724036288,299255727,262147665,4234772167,2289641763,1065079614},territories=38882},[30]={id=30,name={"Thades Moon 1","Thades Lune 1","Thades Mond 1"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_moon_1.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=35,satellites=nil,center={29214403.49,10907080.70,433861.28},gravity=1.0990,radius=14000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=215404000.00,surfaceArea=2463008768,surfaceAverageAltitude=167.399,surfaceMaxAltitude=423.661,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={299255727,262147665,2289641763,4041459743},territories=3002},[31]={id=31,name={"Thades Moon 2","Thades Lune 2","Thades Mond 2"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_moon_2.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=36,satellites=nil,center={29404194.34,10432766.60,19553.82},gravity=1.1775,radius=15000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=264937500.00,surfaceArea=2827433472,surfaceAverageAltitude=184.010,surfaceMaxAltitude=477.009,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={4234772167,3724036288,3086347393,1065079614},territories=3632},[400]={id=400,name={"Thades Asteroid 00","Thades Asteroid 00","Thades Asteroid 00"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_00.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=1,satellites=nil,center={29299301.32,10711862.68,2851.97},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=54.424,surfaceMaxAltitude=921.193,surfaceMinAltitude=-837.498,maxStaticAltitude=2500.00,ores={299255727,4234772167},territories=272},[401]={id=401,name={"Thades Asteroid 01","Thades Asteroid 01","Thades Asteroid 01"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_01.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=2,satellites=nil,center={29282550.05,10753803.20,117513.67},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-685.459,surfaceMaxAltitude=836.309,surfaceMinAltitude=-1925.87,maxStaticAltitude=2500.00,ores={299255727,3724036288},territories=272},[402]={id=402,name={"Thades Asteroid 02","Thades Asteroid 02","Thades Asteroid 02"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_02.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=3,satellites=nil,center={29229075.50,10805882.53,256161.21},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-956.392,surfaceMaxAltitude=168.572,surfaceMinAltitude=-2060.55,maxStaticAltitude=2500.00,ores={262147665,299255727},territories=272},[403]={id=403,name={"Thades Asteroid 03","Thades Asteroid 03","Thades Asteroid 03"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_03.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=4,satellites=nil,center={29267536.95,10749726.84,-97063.90},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-597.324,surfaceMaxAltitude=1395.83,surfaceMinAltitude=-2500.29,maxStaticAltitude=2500.00,ores={3724036288,262147665},territories=272},[404]={id=404,name={"Thades Asteroid 04","Thades Asteroid 04","Thades Asteroid 04"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_04.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=5,satellites=nil,center={29296929.92,10741579.35,-34201.26},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-544.506,surfaceMaxAltitude=1601.43,surfaceMinAltitude=-1658.22,maxStaticAltitude=2500.00,ores={4234772167,262147665},territories=272},[405]={id=405,name={"Thades Asteroid 05","Thades Asteroid 05","Thades Asteroid 05"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_05.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=6,satellites=nil,center={29230291.68,10801230.42,-117467.33},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-476.32,surfaceMaxAltitude=1093.61,surfaceMinAltitude=-1836.26,maxStaticAltitude=2500.00,ores={3724036288,4234772167},territories=272},[406]={id=406,name={"Thades Asteroid 06","Thades Asteroid 06","Thades Asteroid 06"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_06.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=7,satellites=nil,center={29294439.12,10755446.81,185994.55},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-704.756,surfaceMaxAltitude=1051.98,surfaceMinAltitude=-2124.6,maxStaticAltitude=2500.00,ores={4234772167,299255727,3724036288},territories=272},[407]={id=407,name={"Thades Asteroid 07","Thades Asteroid 07","Thades Asteroid 07"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_07.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=8,satellites=nil,center={29091470.31,10943497.38,-37252.04},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=161.911,surfaceMaxAltitude=1505.11,surfaceMinAltitude=-1473.85,maxStaticAltitude=2500.00,ores={4234772167,299255727},territories=272},[408]={id=408,name={"Thades Asteroid 08","Thades Asteroid 08","Thades Asteroid 08"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_08.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=9,satellites=nil,center={29081043.07,10962202.27,-75767.64},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-936.01,surfaceMaxAltitude=688.978,surfaceMinAltitude=-2498.5,maxStaticAltitude=2500.00,ores={3724036288,299255727},territories=272},[409]={id=409,name={"Thades Asteroid 09","Thades Asteroid 09","Thades Asteroid 09"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_09.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=10,satellites=nil,center={29086073.94,10961324.33,-37713.45},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-261.982,surfaceMaxAltitude=1811.89,surfaceMinAltitude=-1705.35,maxStaticAltitude=2500.00,ores={299255727,262147665},territories=272},[410]={id=410,name={"Thades Asteroid 10","Thades Asteroid 10","Thades Asteroid 10"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_10.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=11,satellites=nil,center={29057495.95,11010112.20,-12840.27},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-923.761,surfaceMaxAltitude=465.953,surfaceMinAltitude=-1705.78,maxStaticAltitude=2500.00,ores={3724036288,262147665},territories=272},[411]={id=411,name={"Thades Asteroid 11","Thades Asteroid 11","Thades Asteroid 11"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_11.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=12,satellites=nil,center={29038528.76,11009018.02,34480.51},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-897.714,surfaceMaxAltitude=317.114,surfaceMinAltitude=-1993.37,maxStaticAltitude=2500.00,ores={4234772167,262147665},territories=272},[412]={id=412,name={"Thades Asteroid 12","Thades Asteroid 12","Thades Asteroid 12"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_12.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=13,satellites=nil,center={29063783.12,11010103.53,-19811.13},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-1231.337,surfaceMaxAltitude=332.356,surfaceMinAltitude=-2017.24,maxStaticAltitude=2500.00,ores={3724036288,4234772167},territories=272},[413]={id=413,name={"Thades Asteroid 13","Thades Asteroid 13","Thades Asteroid 13"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_13.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=14,satellites=nil,center={29308876.96,10722122.97,63979.64},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-462.878,surfaceMaxAltitude=1558.25,surfaceMinAltitude=-1455.30,maxStaticAltitude=2500.00,ores={3724036288,299255727,262147665,4234772167},territories=272},[414]={id=414,name={"Thades Asteroid 14","Thades Asteroid 14","Thades Asteroid 14"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_14.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=15,satellites=nil,center={29039962.95,11009804.08,20310.07},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-941.413,surfaceMaxAltitude=667.795,surfaceMinAltitude=-2063.120,maxStaticAltitude=2500.00,ores={299255727,4234772167},territories=272},[415]={id=415,name={"Thades Asteroid 15","Thades Asteroid 15","Thades Asteroid 15"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_15.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=16,satellites=nil,center={29028034.74,11006962.68,90614.67},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-102.078,surfaceMaxAltitude=1711.750,surfaceMinAltitude=-1248.490,maxStaticAltitude=2500.00,ores={299255727,3724036288},territories=272},[416]={id=416,name={"Thades Asteroid 16","Thades Asteroid 16","Thades Asteroid 16"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_16.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=17,satellites=nil,center={29049290.89,11009683.55,130463.58},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-1388.131,surfaceMaxAltitude=-34.923,surfaceMinAltitude=-2501.310,maxStaticAltitude=2500.00,ores={262147665,299255727},territories=272},[417]={id=417,name={"Thades Asteroid 17","Thades Asteroid 17","Thades Asteroid 17"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_17.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=18,satellites=nil,center={29034838.01,11011307.10,100551.51},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-171.626,surfaceMaxAltitude=1396.390,surfaceMinAltitude=-1270.20,maxStaticAltitude=2500.00,ores={262147665,3724036288},territories=272},[418]={id=418,name={"Thades Asteroid 18","Thades Asteroid 18","Thades Asteroid 18"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_18.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=19,satellites=nil,center={29071108.08,10957206.76,212593.35},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-175.909,surfaceMaxAltitude=1242.240,surfaceMinAltitude=-1081.320,maxStaticAltitude=2500.00,ores={262147665,4234772167},territories=272},[419]={id=419,name={"Thades Asteroid 19","Thades Asteroid 19","Thades Asteroid 19"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_19.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=20,satellites=nil,center={29167994.87,10859282.88,268014.12},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-1102.891,surfaceMaxAltitude=598.225,surfaceMinAltitude=-2306.690,maxStaticAltitude=2500.00,ores={3724036288,4234772167},territories=272},[420]={id=420,name={"Thades Asteroid 20","Thades Asteroid 20","Thades Asteroid 20"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_20.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=21,satellites=nil,center={29213864.06,10803741.30,-121255.16},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-603.555,surfaceMaxAltitude=1582.350,surfaceMinAltitude=-2158.800,maxStaticAltitude=2500.00,ores={299255727,4234772167,262147665},territories=272},[421]={id=421,name={"Thades Asteroid 21","Thades Asteroid 21","Thades Asteroid 21"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_21.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=22,satellites=nil,center={29239443.63,10792184.95,211277.78},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-899.330,surfaceMaxAltitude=1089.520,surfaceMinAltitude=-2425.300,maxStaticAltitude=2500.00,ores={4234772167,299255727},territories=272},[422]={id=422,name={"Thades Asteroid 22","Thades Asteroid 22","Thades Asteroid 22"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_22.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=23,satellites=nil,center={29144431.74,10891773.13,265131.10},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-1159.166,surfaceMaxAltitude=966.797,surfaceMinAltitude=-2501.170,maxStaticAltitude=2500.00,ores={3724036288,299255727},territories=272},[423]={id=423,name={"Thades Asteroid 23","Thades Asteroid 23","Thades Asteroid 23"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_23.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=24,satellites=nil,center={29221331.78,10813011.47,-112261.08},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=59.944,surfaceMaxAltitude=2240.940,surfaceMinAltitude=-1196.110,maxStaticAltitude=2500.00,ores={262147665,299255727},territories=272},[424]={id=424,name={"Thades Asteroid 24","Thades Asteroid 24","Thades Asteroid 24"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_24.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=25,satellites=nil,center={29261255.06,10778311.95,-68014.35},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-634.507,surfaceMaxAltitude=1521.540,surfaceMinAltitude=-2498.500,maxStaticAltitude=2500.00,ores={3724036288,262147665},territories=272},[425]={id=425,name={"Thades Asteroid 25","Thades Asteroid 25","Thades Asteroid 25"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_25.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=26,satellites=nil,center={29199560.98,10832137.62,-97473.02},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-184.796,surfaceMaxAltitude=936.977,surfaceMinAltitude=-1009.590,maxStaticAltitude=2500.00,ores={4234772167,262147665},territories=272},[426]={id=426,name={"Thades Asteroid 26","Thades Asteroid 26","Thades Asteroid 26"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_26.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=27,satellites=nil,center={29055988.74,10976710.89,153234.70},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-599.773,surfaceMaxAltitude=1421.290,surfaceMinAltitude=-1916.820,maxStaticAltitude=2500.00,ores={4234772167,3724036288},territories=272},[427]={id=427,name={"Thades Asteroid 27","Thades Asteroid 27","Thades Asteroid 27"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_27.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=28,satellites=nil,center={29052925.00,10978093.03,202894.97},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=50.800,surfaceMaxAltitude=1210.470,surfaceMinAltitude=-657.505,maxStaticAltitude=2500.00,ores={3724036288,262147665,299255727},territories=272},[428]={id=428,name={"Thades Asteroid 28","Thades Asteroid 28","Thades Asteroid 28"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_28.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=29,satellites=nil,center={29114441.38,10927735.88,231833.92},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-1322.002,surfaceMaxAltitude=367.258,surfaceMinAltitude=-2342.960,maxStaticAltitude=2500.00,ores={299255727,4234772167},territories=272},[429]={id=429,name={"Thades Asteroid 29","Thades Asteroid 29","Thades Asteroid 29"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_29.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=30,satellites=nil,center={29093988.60,10935957.84,206596.14},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-171.916,surfaceMaxAltitude=1432.140,surfaceMinAltitude=-1545.310,maxStaticAltitude=2500.00,ores={299255727,3724036288},territories=272},[430]={id=430,name={"Thades Asteroid 30","Thades Asteroid 30","Thades Asteroid 30"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_30.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=31,satellites=nil,center={29308670.06,10719768.95,122162.49},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-688.637,surfaceMaxAltitude=1538.470,surfaceMinAltitude=-2500.330,maxStaticAltitude=2500.00,ores={262147665,299255727},territories=272},[431]={id=431,name={"Thades Asteroid 31","Thades Asteroid 31","Thades Asteroid 31"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_31.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=32,satellites=nil,center={29315394.75,10724428.22,30918.91},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-333.031,surfaceMaxAltitude=1683.290,surfaceMinAltitude=-1670.060,maxStaticAltitude=2500.00,ores={262147665,3724036288},territories=272},[432]={id=432,name={"Thades Asteroid 32","Thades Asteroid 32","Thades Asteroid 32"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_32.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=33,satellites=nil,center={29039991.14,11019630.48,64846.61},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-454.695,surfaceMaxAltitude=1545.980,surfaceMinAltitude=-2146.780,maxStaticAltitude=2500.00,ores={4234772167,262147665},territories=272},[433]={id=433,name={"Thades Asteroid 33","Thades Asteroid 33","Thades Asteroid 33"},type={"Asteroid","Astéroïde","Asteroid"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/thades_asteroid_33.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=3,positionInSystem=34,satellites=nil,center={29278192.73,10762037.83,209654.75},gravity=0.9420,radius=5215.19,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=25620700.57,surfaceArea=341757843.00,surfaceAverageAltitude=-202.747,surfaceMaxAltitude=1247.770,surfaceMinAltitude=-1595.650,maxStaticAltitude=2500.00,ores={4234772167,262147665,3724036288},territories=272},[4]={id=4,name={"Talemai","Talemai","Talemai"},type={"Planet","Planète","Planet"},biosphere={"Barren","Désert","Karg"},classification={"Psychroplanet","Psychroplanète","Psychroplanet"},habitability={"Average","Moyenne","Mittlere "},description={[[Talemai is a planet in the final stages of an Ice Age. It seems likely that the planet was thrown into tumult by a cataclysmic volcanic event which resulted in its current state. The arkship geological survey reports large mountainous regions across the entire planet.]],[[Talemai est une planète en fin de période glaciaire. Il est probable qu'un événement volcanique cataclysmique soit responsable de son état actuel. L'étude géologique du Vaisseau-Arche signale de grandes zones montagneuses sur toute la planète.]],[[Talemai ist ein Planet, der sich im Endstadium einer Eiszeit befindet. Es wird vermutet, dass der Planet durch ein kataklysmisches vulkanisches Ereignis in seinen heutigen Zustand versetzt wurde. Die geologische Untersuchung des Archenschiffs berichtet von weiten Gebirgsregionen auf dem gesamten Planeten.]]},iconPath="gui/screen_unit/img/planets/talemai.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=false,systemId=0,positionInSystem=4,satellites={40,41,42},center={-13234464.00,55765536.00,465536.00},gravity=4.5530,radius=57500.00,atmosphereThickness=16000.00,atmosphereRadius=72500.00,GM=15053356250.00,surfaceArea=41547562844,surfaceAverageAltitude=631.26,surfaceMaxAltitude=2755.23,surfaceMinAltitude=-1778.1,maxStaticAltitude=14709.00,ores={299255727,4234772167,3724036288,343766315,1065079614,271971371},territories=52922},[40]={id=40,name={"Talemai Moon 2","Talemai Lune 2","Talemai Mond 2"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/talemai_moon_2.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=false,systemId=4,positionInSystem=2,satellites=nil,center={-13503090.34,55594324.49,769836.53},gravity=0.9420,radius=12000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=135648000.00,surfaceArea=1809557368.00,surfaceAverageAltitude=178.06,surfaceMaxAltitude=497.87,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={262147665,3724036288,4234772167,3086347393,4041459743,1467310917},territories=1922},[41]={id=41,name={"Talemai Moon 3","Talemai Lune 3","Talemai Mond 3"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/talemai_moon_3.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=false,systemId=4,positionInSystem=3,satellites=nil,center={-12800514.62,55700257.46,325207.84},gravity=0.8635,radius=11000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=104423000.00,surfaceArea=1520530844.00,surfaceAverageAltitude=313.12,surfaceMaxAltitude=582.08,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={262147665,299255727,4234772167,2289641763,1050500112,1866812055},territories=1922},[42]={id=42,name={"Talemai Moon 1","Talemai Lune 1","Talemai Mond 1"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/talemai_moon_1.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=false,systemId=4,positionInSystem=1,satellites=nil,center={-13058408.39,55781856.76,740177.66},gravity=1.1775,radius=15000.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=265050000.00,surfaceArea=282743388.00,surfaceAverageAltitude=423.70,surfaceMaxAltitude=1077.57,surfaceMinAltitude=0,maxStaticAltitude=2500.00,ores={299255727,3724036288,262147665,2029139010,1065079614,3546085401},territories=3632},[6]={id=6,name={"Sicari","Sicari","Sicari"},type={"Planet","Planète","Planet"},biosphere={"Desert","Désert","Wüste"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"Average","Moyenne","Durchschnitt"},description={[[Eons ago, Sicari and its moon shared a common origin with Sinnen as part of a single, massive planet. Cosmogeological studies reveal that an ancient cosmic cataclysm tore apart the primordial world, which eventually reformed into the three distinct celestial bodies we observe today. This accounts for their peculiarly close proximity to one another. Sicari, an arid world, is punctuated by a scattering of verdant oases. The Arkship's Geological Readings reveal a landscape dominated by towering, desolate mountains that cradle extensive tracts of lush, tropical wetlands.]],[[A l'origine Sicari Sinnen et sa lune n'étaient qu'une seule grosse planète. Dans un lointain passé, un cataclysme cosmique l'a éclatée et elle s'est recomposée en 3 corps, ce qui explique l'inhabituelle proximité de Sicari avec Sinnen. Sicari est une planète désertique parsemée d'oasis luxuriants.Le système de surveillance géologique de l'Arkship rapporte de grandes étendues arides et montagneuses abritant de larges zones humides et tropicales.]],[[Ursprünglich waren Sicari Sinnen und sein Mond nur ein großer Planet. In der fernen Vergangenheit zerschmetterte sie eine kosmische Katastrophe und sie setzte sich wieder in drei Körper zusammen, was Sicaris ungewöhnliche Nähe zu Sinnen erklärt. Sicari ist ein Wüstenplanet, der mit üppigen Oasen übersät ist. Das geologische Überwachungssystem der Arche berichtet von großen, öden, bergigen Landstrichen, die große tropische Feuchtgebiete beherbergen.]]},iconPath="gui/screen_unit/img/planets/sicari.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=false,systemId=0,positionInSystem=6,satellites=nil,center={52765536.00,27165536.00,52065536.00},gravity=4.0035,radius=51100.00,atmosphereThickness=9600.00,atmosphereRadius=60700.00,GM=10189665694.91,surfaceArea=32813432612.00,surfaceAverageAltitude=162.7630127,surfaceMaxAltitude=1226.54,surfaceMinAltitude=-301.41,ores={3724036288,4234772167,4041459743,1866812055,2162350405},territories=41072},[7]={id=7,name={"Sinnen","Sinnen","Sinnen"},type={"Planet","Planète","Planet"},biosphere={"Desert","Désert","Wüste"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"Average","Moyenne","Durchschnitt"},description={[[Sinnen, once part of a larger celestial entity with Sicari and its moon, now stands as a separate world characterized by expansive plains intersected by deep ravines. Sparse vegetation sustains a minimal ecosystem of hardy lifeforms. Yet, amidst this desolation, the enigmatic crystal forests on Sinnen defy explanation. Despite extensive research, scientists have yet to uncover any viable theories for the origin of these mysterious formations.]],[[A l'origine Sicari, Sinnen et sa lune n'étient qu'une seule grosse planète. Dans un lointain passé, un cataclysme cosmique l'a éclatée et elle s'est recomposée en 3 corps, ce qui explique l'inhabituelle proximité de Sinnen avec Sicari. Le système de surveillance géologique de l'Arkship rapporte principalement des grandes plaines aux côtés de profonds ravins, Une rare vegétation apporte à Sicari une vie minimale. Aucune théorie n'explique les étranges forêts de cristaux.]],[[Ursprünglich war Sicari, Sinnen und sein Mond nur ein einziger großer Planet. In der fernen Vergangenheit wurde sie von einer kosmischen Katastrophe erschüttert und sie setzte sich wieder in drei Körper zusammen, was Sinnens ungewöhnliche Nähe zu Sicari erklärt. Das geologische Überwachungssystem der Arche meldet hauptsächlich große Ebenen neben tiefen Schluchten, Spärliche Vegetation bringt Sicari minimales Leben. Keine Theorie erklärt die seltsamen Kristallwälder.]]},iconPath="gui/screen_unit/img/planets/sinnen.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=false,systemId=0,positionInSystem=6,satellites={70},center={52718347.17,26962117.31,51830774.69},gravity=4.3175,radius=54950.00,atmosphereThickness=12000.00,atmosphereRadius=66950.00,GM=13036702043.75,surfaceArea=37944187486.00,surfaceAverageAltitude=312.7987904,surfaceMaxAltitude=433.763,surfaceMinAltitude=2.6892,ores={262147665,299255727,1467310917,2029139010,789110817},territories=48002},[70]={id=70,name={"Sinnen Moon 1","Sinnen Moon 1","Sinnen Moon 1"},type={"Moon","Lune","Mond"},biosphere=nil,classification=nil,habitability=nil,description=nil,iconPath="gui/screen_unit/img/planets/sinnen_moon_1.png",hasAtmosphere=false,isSanctuary=false,isInSafeZone=true,systemId=7,positionInSystem=1,satellites=nil,center={52416510.67,26795577.16,51893332.65},gravity=0.0000,radius=0.00,atmosphereThickness=0.00,atmosphereRadius=0.00,GM=0.00,surfaceArea=3631681108.00,surfaceAverageAltitude=-1948.13447,surfaceMaxAltitude=-1299.24,surfaceMinAltitude=-2694.02,ores={299255727,4234772167,3724036288,343766315,271971371,3837858336},territories=4322},[8]={id=8,name={"Teoma","Teoma","Teoma"},type={"Planet","Planète","Planet"},biosphere={"Forest","Forêt","Wald"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"High","Elevée","Hoch"},description={[[[REDACTED] The arkship geological survey [REDACTED]. This planet should not be here.]],[[[CENSURÉ] L'étude géologique du Vaisseau-Arche [CENSURÉ]. Cette planète ne devrait pas être ici.]],[[[ZENSIERT] Die geologische Untersuchung des Archenschiffs [ZENSIERT]. Dieser Planet sollte nicht hier sein.]]},iconPath="gui/screen_unit/img/planets/teoma.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=false,systemId=0,positionInSystem=8,satellites=nil,center={80865536.00,54665536.00,-934464.00},gravity=4.7885,radius=62000.00,atmosphereThickness=6400.00,atmosphereRadius=68400.00,GM=18406994000.00,surfaceArea=48305131520,surfaceAverageAltitude=-294.246,surfaceMaxAltitude=1341.99,surfaceMinAltitude=-576.98,maxStaticAltitude=1540.00,ores={299255727,4234772167,343766315,3837858336,1467310917},territories=60752},[9]={id=9,name={"Jago","Jago","Jago"},type={"Planet","Planète","Planet"},biosphere={"Water","Eau","Wasser"},classification={"Mesoplanet","Mésoplanète","Mesoplanet"},habitability={"Very High","Très élevée","Sehr hoch"},description={[[Jago is a water planet. The large majority of the planet's surface is covered by large oceans dotted by small areas of landmass across the planet. The arkship geological survey reports deep seas across the majority of the planet with sub 15 percent coverage of solid ground.]],[[Jago est une planète-océan. La plupart de sa surface est recouverte d'immenses océans, parsemés de petites îles. L'étude géologique du Vaisseau-Arche signale des océans profonds sur une grande partie de la planète, et moins de 15% de terres émergées.]],[[Jago ist ein Wasserplanet. Der größte Teil der Planetenoberfläche ist von weiten Ozeanen bedeckt, in denen vereinzelte kleine Inselgruppen zu finden sind. Die geologische Untersuchung des Archenschiffs hat ergeben, dass der größte Teil des Planeten von tiefen Meeren bedeckt ist und weniger als 15% des Bodens aus festem Material besteht.]]},iconPath="gui/screen_unit/img/planets/jago.png",hasAtmosphere=true,isSanctuary=false,isInSafeZone=false,systemId=0,positionInSystem=9,satellites=nil,center={-94134464.00,12765536.00,-3634464.00},gravity=4.9455,radius=61590.00,atmosphereThickness=11200.00,atmosphereRadius=72700.00,GM=18759904118.55,surfaceArea=47668367360,surfaceAverageAltitude=-374.1116,surfaceMaxAltitude=1093.681,surfaceMinAltitude=-499.43,maxStaticAltitude=1300.00,ores={2029139010,3724036288,3837858336,271971371,789110817},territories=60752}}}

        end)

        library.addEventHandlers(library)

        library.addEventHandlers(system)

        library.addEventHandlers(player)

        library.addEventHandlers(construct)

        library.addEventHandlers(unit)

        library.addEventHandlers(core)

        library.addEventHandlers(disk)

        library.addEventHandlers(warp)
  system:
    onActionStart(action):
      lua: system:triggerEvent('onActionStart',action)
    onActionLoop(action):
      lua: system:triggerEvent('onActionLoop',action)
    onActionStop(action):
      lua: system:triggerEvent('onActionStop',action)
    onUpdate():
      lua: system:triggerEvent('onUpdate')
    onFlush():
      lua: system:triggerEvent('onFlush')
    onInputText(text):
      lua: system:triggerEvent('onInputText',text)
    onCameraChanged(mode):
      lua: system:triggerEvent('onCameraChanged',mode)
  player:
    "onParentChanged(oldId,newId)":
      lua: player:triggerEvent('onParentChanged',oldId,newId)
  construct:
    onDocked(id):
      lua: construct:triggerEvent('onDocked',id)
    onUndocked(id):
      lua: construct:triggerEvent('onUndocked',id)
    onPlayerBoarded(id):
      lua: construct:triggerEvent('onPlayerBoarded',id)
    onVRStationEntered(id):
      lua: construct:triggerEvent('onVRStationEntered',id)
    onConstructDocked(id):
      lua: construct:triggerEvent('onConstructDocked',id)
    onPvPTimer(active):
      lua: construct:triggerEvent('onPvPTimer',active)
  unit:
    onStop():
      lua: unit:triggerEvent('onStop')
    onTimer(timerId):
      lua: unit:triggerEvent('onTimer',timerId)
    onStart():
      lua: >-
        AllowAtmo=false --export: Allow autopilot near planets (<= 400 km from
        surface)

        local a=0;local b=0;local c=0;local d=0;local e=0;local f=0;local g=0;local h={0,0,0}local i=0;local j=0;local k=0;local l=0;local m=0;local n=0;local o=0;local p=0;local q=0;local r,s,t,u,v=0,nil,0,0,0;local w,x="",""local y=(unit.getAtmosphereDensity()or 0)>0;local z=false;local A=false;local B=false;local C=0;local D=0;Nav=Navigator.new(system,core,unit)Nav.axisCommandManager:setupCustomTargetSpeedRanges(axisCommandId.longitudinal,{1000,5000,10000,20000,30000})Nav.axisCommandManager:setTargetGroundAltitude(200)if axisCommandId and axisCommandType then unit.setupAxisCommandProperties(axisCommandId.longitudinal,axisCommandType.byThrottle,nil)if axisCommandId.lateral then unit.setupAxisCommandProperties(axisCommandId.lateral,axisCommandType.byThrottle,nil)end;if axisCommandId.vertical then unit.setupAxisCommandProperties(axisCommandId.vertical,axisCommandType.byThrottle,nil)end;unit.setAxisCommandValue(axisCommandId.longitudinal,0)if axisCommandId.lateral then unit.setAxisCommandValue(axisCommandId.lateral,0)end;if axisCommandId.vertical then unit.setAxisCommandValue(axisCommandId.vertical,0)end end;unit.hideWidget()system.showHelper(false)system.showScreen(false)construct.setDockingMode(1)local E=require('Sky:atlas.lua')local F=nil;local G;local function H(I,J,K)if I<J then return J end;if I>K then return K end;return I end;local function L(M,N)return vec3((M.x or M[1]or 0)-(N.x or N[1]or 0),(M.y or M[2]or 0)-(N.y or N[2]or 0),(M.z or M[3]or 0)-(N.z or N[3]or 0))end;local function O(P)if P=='COMMAND REJECTED'or P=='COMMAND ACCEPTED'or P=='COMMAND COMPLETED'or P=='EMERGENCY STOP'or P=='PRIMED'or z then system.print(P)end end;local function Q()if system.getArkTime then local R=system.getArkTime()if type(R)=='number'then return R end end;if system.getTime then local R=system.getTime()if type(R)=='number'then return R end end;return 0 end;local S=false;local T='idle'local U=0;local V=0;local W=0;local X=0;local Y=0;local Z=0;local _=0;local a0=false;local a1=false;local a2=0.5;local a3=0;local a4=false;local function a5()S=false;T='idle'U=0;V=0;W=0;X=0;Y=0;Z=0;_=0;a1=false;a3=0;a4=false end;local function a6(a7)local a8=a7 or 0;if a8>=0.5 then Nav.axisCommandManager:updateCommandFromActionStart(axisCommandId.longitudinal,1000)unit.setAxisCommandValue(axisCommandId.longitudinal,1)else Nav.axisCommandManager:resetCommand(axisCommandId.longitudinal)unit.setAxisCommandValue(axisCommandId.longitudinal,0)end;if axisCommandId.lateral then unit.setAxisCommandValue(axisCommandId.lateral,0)end;if axisCommandId.vertical then unit.setAxisCommandValue(axisCommandId.vertical,0)end end;local function a9()if not F then return end;if y then O('Autopilot: not starting in atmosphere')return end;if not AllowAtmo then if r and G(r,F)then O('COMMAND REJECTED')return end end;S=true;T='align'U=Q()V=0;Y=0;Z=0;a1=false;a3=0;local aa=vec3(construct.getWorldPosition())W=L(F,aa):len()X=W*0.5;A=true;B=false;d=0;unit.setupAxisCommandProperties(axisCommandId.longitudinal,axisCommandType.byThrottle,nil)if axisCommandId.lateral then unit.setupAxisCommandProperties(axisCommandId.lateral,axisCommandType.byThrottle,nil)end;if axisCommandId.vertical then unit.setupAxisCommandProperties(axisCommandId.vertical,axisCommandType.byThrottle,nil)end;system.setWaypoint(x,false)O('COMMAND ACCEPTED')O('Autopilot: align to destination')end;local function ab(ac,ad,ae,af,k)local ag=math.rad(ae or 0)local a8=math.rad(af or 0)local ah=(ad or 0)+(k or 0)local ai=ah*math.cos(ag)*math.cos(a8)local aj=ah*math.cos(ag)*math.sin(a8)local ak=ah*math.sin(ag)return vec3((ac[1]or 0)+ai,(ac[2]or 0)+aj,(ac[3]or 0)+ak)end;local function al(am,an)local ao=E[am]if not ao then return nil end;if an==0 then return{0,0,0},0 end;local ap=ao[an]if not ap then return nil end;local aq=ap.center;local ar=ap.radius or 0;return aq,ar end;local function as(am,an,M,N,aq)if an==0 then return vec3(M or 0,N or 0,aq or 0)end;local ac,ad=al(am,an)if ac and ad then return ab(ac,ad,M,N,aq)end;return nil end;local function at(am,au)local ao=E[am]if not ao or not au then return nil end;local av,aw=nil,nil;for ax,ap in pairs(ao)do local aq=ap and ap.center;local ay=ap and ap.name and ap.name[1]if aq and ay then local az=L(au,aq)local aA=az:dot(az)if not aw or aA<aw then aw=aA;av=ay end end end;return av end;local function aB(aC)if not aC or type(aC)~='string'then return nil end;local aD=aC:match('^%s*(.-)%s*$'):lower()if aD==''then return nil end;for aE,ao in pairs(E)do if type(ao)=='table'then for an,ap in pairs(ao)do local ay=ap and ap.name and ap.name[1]if type(ay)=='string'and ay:lower()==aD then return aE,an,ap end end end end;return nil end;local function aF(am,au)local ao=E[am]if not ao or not au then return true end;local aG,aH=math.huge,0;for aI,ap in pairs(ao)do local aq=ap and ap.center;if aq then local az=L(au,aq)local aA=az:dot(az)if aA<aG then aG=aA;aH=ap.hasAtmosphere and ap.atmosphereRadius or(ap.radius or 0)end end end;if aG==math.huge then return true end;return math.sqrt(aG)>aH+1.0 end;G=function(am,au)local ao=E[am]if not ao or not au then return false end;local aJ=vec3(au.x or au[1],au.y or au[2],au.z or au[3])for aI,ap in pairs(ao)do local aq=ap and ap.center;local aK=ap and ap.radius;if aq and aK and aK>0 then local ac=vec3(aq[1],aq[2],aq[3])local aL=(aJ-ac):len()-aK;if aL<=400000 then return true end end end;return false end;local function aM()if not F or not r then return math.huge end;if s==0 then return math.huge end;local ap=(E[r]or{})[s]if not ap then return math.huge end;local aK=ap.hasAtmosphere and ap.atmosphereRadius or(ap.radius or 0)local aN=ap.center;if not(aK and aK>0 and aN)then return math.huge end;local aO=vec3(aN[1],aN[2],aN[3])local aP=vec3(construct.getWorldPosition())local aQ=L(F,aP)local aR=aQ:len()if aR<=1e-6 then return math.huge end;local aS=aQ/aR;local aT=L(aP,aO)local N=aT:dot(aS)local aq=aT:dot(aT)-aK*aK;local aU=N*N-aq;if aU and aU>=0 then local aV=math.sqrt(aU)local aW=-N-aV;local aX=-N+aV;local R;if aW>=0 then R=aW elseif aX>=0 then R=aX end;if R and R>=0 then return R end end;local aY=L(aP,aO):len()return math.max(0,aY-aK)end;local function aZ(a_)if type(a_)~='string'then return nil end;local M,N,ag,a8,b0=a_:match('::pos{%s*([%-%d%.]+)%s*,%s*([%-%d%.]+)%s*,%s*([%-%d%.]+)%s*,%s*([%-%d%.]+)%s*,%s*([%-%d%.]+)%s*}')if not M then return nil end;return tonumber(M),tonumber(N),tonumber(ag),tonumber(a8),tonumber(b0)end;system:onEvent('onInputText',function(self,b1)if type(b1)~='string'then return end;do local b2=b1:match('^%s*(.-)%s*$')if b2 and b2:lower()=='allstop'then a0=true;A=false;B=false;d=1;a6(0)a5()O('All stop: throttle 0 and brakes applied')O('EMERGENCY STOP')return end end;do local b2=b1:match('^%s*(.-)%s*$')if b2 and b2:lower()=='list'then if not disk then O('No databank |disk| linked: cannot list')return end;local b3={}if disk.getKeyList then local b4=disk.getKeyList()if type(b4)=='table'then for aI,b5 in ipairs(b4)do table.insert(b3,tostring(b5))end end end;if#b3==0 and disk.getNbKeys and disk.getKey then local ay=tonumber(disk.getNbKeys())or 0;for b6=0,math.max(ay-1,0)do local b5=disk.getKey(b6)if b5 then table.insert(b3,tostring(b5))end end;if#b3==0 then for b6=1,ay do local b5=disk.getKey(b6)if b5 then table.insert(b3,tostring(b5))end end end end;if#b3==0 then O('No keys found in databank')return end;local b7=0;for aI,b8 in ipairs(b3)do local a7=disk.getStringValue and disk.getStringValue(b8)or nil;if type(a7)=='string'and a7:find('^::pos%{')then local b9,ba,ag,a8,b0=aZ(a7)if b9 then local ac,ad=al(b9,ba)if ac and ad then O(b8)b7=b7+1 end end end end;if b7==0 then O('No valid waypoint entries found')else O(string.format('Listed %d valid waypoint entries',b7))end;return end end;local aC,bb=b1:match('^%s*([^:][%w%._%-%s]*)%s+(::pos%b{})%s*$')if aC and bb then aC=aC:match('^%s*(.-)%s*$')w,x=aC,bb;if disk and disk.setStringValue then disk.setStringValue(w,x)O(string.format('Saved %s -> %s',w,x))else O('No databank |disk| linked: cannot save')end;r,s,t,u,v=aZ(x)if r then local aJ=as(r,s,t,u,v)if aJ then F=aJ;O(string.format('Destination set to %s',w))a9()end end;return end;do local aE,an,ag,a8,b0=aZ(b1)if aE then r,s,t,u,v=aE,an,ag,a8,b0;w="Unknown"x=b1;local aJ=as(aE,an,ag,a8,b0)if aJ then F=aJ;if an==0 then O(string.format('Destination set to space (x %.1f, y %.1f, z %.1f)',ag,a8,b0))else O(string.format('Destination set to system %d body %d (lat %.4f, lon %.4f, alt %.1f)',aE,an,ag,a8,b0))end;a9()return else O('Invalid ::pos body/system for atlas')return end end end;do local b8=b1:match('^%s*(.-)%s*$')if b8 and b8~=''then local aE,an,ap=aB(b8)if aE and an and ap and ap.center then w=ap.name and ap.name[1]or b8;r,s=aE,an;t,u,v=0,0,0;local aq=ap.center;F=vec3(aq[1],aq[2],aq[3])O(string.format("Destination set to body '%s' (system %s, id %s)",tostring(w),tostring(aE),tostring(an)))a9()return end end end;if disk and disk.getStringValue then local b8=b1:match('^%s*(.-)%s*$')local bc=disk.getStringValue(b8)if bc and bc:find('^::pos%{')then w,x=b8,bc;local aE,an,ag,a8,b0=aZ(bc)if aE then r,s,t,u,v=aE,an,ag,a8,b0;local aJ=as(aE,an,ag,a8,b0)if aJ then F=aJ;O(string.format('Destination recalled: %s -> %s',b8,bc))a9()return else O('Saved ::pos not valid for current atlas')return end end end end;O('Unrecognized input. Use |name ::pos{...}| to save, |::pos{...}| to set, or a saved name to recall.')end)system:onEvent('onFlush',function(self)local bd=0.8;local be=1;local bf=1.5;local bg=3;local bh=1;local bi=true;local bj=2;local bk=true;local bl=2;local bm=2;bd=math.max(bd,0.01)be=math.max(be,0.01)bf=math.max(bf,0.01)bm=math.max(bm,0.01)bg=math.max(bg,0.01)bh=math.max(bh,0.01)bj=math.max(bj,0.01)bl=math.max(bl,0.01)local bn=a+system.getControlDeviceForwardInput()local bo=b+system.getControlDeviceYawInput()local bp=c-system.getControlDeviceLeftRightInput()local bq=d;local br=vec3(core.getWorldVertical())local bs=vec3(construct.getWorldOrientationUp())local bt=vec3(construct.getWorldOrientationForward())local bu=vec3(construct.getWorldOrientationRight())h=vec3(construct.getWorldVelocity())local bv=vec3(construct.getWorldVelocity()):normalize()local bw=getRoll(br,bt,bu)local bx=math.abs(bw)local by=utils.sign(bw)do if A and F and not y then local aa=vec3(construct.getWorldPosition())local bz=L(F,aa)local bA=bz:len()if bA and bA>1e-3 then local bB=0.45;local bC=0.45;local bD=0.001;local bE=bt;local bF=bs;local bG=bu;local ai=bz:dot(bE)local bH=bz:dot(bG)local bI=bz:dot(bF)local bJ=math.deg(math.atan(bH,ai))local bK=math.deg(math.atan(bI,ai))local function bL(I)if I>1 then return 1 elseif I<-1 then return-1 else return I end end;local bM=math.min(math.abs(bJ)/45.0,1.0)local bN=math.min(math.abs(bK)/30.0,1.0)local bO=bL(-bB*bJ*bM*bM)local bP=bL(bC*bK*bN*bN)if math.abs(bJ)<bD then bO=0 end;if math.abs(bK)<bD then bP=0 end;local bQ=0.03;if math.abs(bJ)>=bD and bO~=0 and math.abs(bO)<bQ then bO=(bO>0 and 1 or-1)*bQ end;if math.abs(bK)>=bD and bP~=0 and math.abs(bP)<bQ then bP=(bP>0 and 1 or-1)*bQ end;local bR=0.9;C=C+bR*(bO-C)D=D+bR*(bP-D)bp=C;bn=D end else C=0;D=0 end end;do local bS=bv;local bE=vec3(construct.getWorldOrientationForward())local bT=H(bS:dot(bE),-1,1)local bU=math.deg(math.acos(bT))bU=math.min(bU,45)stallScaled=math.floor(bU/45*60+0.5)end;do if F then local aa=vec3(construct.getWorldPosition())local bz=L(F,aa)local bF=vec3(construct.getWorldOrientationUp())local bG=vec3(construct.getWorldOrientationRight())local bV=bz-bF*bz:dot(bF)local bW=bz-bG*bz:dot(bG)local bX=bV:len()local bY=bW:len()if bX>1e-6 then bV=bV/bX;local bE=vec3(construct.getWorldOrientationForward())local bG=vec3(construct.getWorldOrientationRight())local ai=bV:dot(bE)local aj=bV:dot(bG)local bJ=math.deg(math.atan(aj,ai))local bZ=math.max(-90,math.min(90,bJ))headingScaled=math.floor(bZ/90*130+0.5)end;if bY>1e-6 then bW=bW/bY;local bE=vec3(construct.getWorldOrientationForward())local bF=vec3(construct.getWorldOrientationUp())local ai=bW:dot(bE)local aj=bW:dot(bF)local bK=math.deg(math.atan(aj,ai))local b_=H(bK,-45,45)local c0=(b_+45)/90;climbScaled=math.floor(c0*110+0.5)end end end;do local bE=vec3(construct.getWorldOrientationForward())i=h:dot(bE)*3.6;if i<0 then i=0 end;local a_=math.min(i,1000)/1000*110;speedScaled=math.floor(a_+0.5)end;do local aa=vec3(construct.getWorldPosition())local c1=math.huge;local c2=0;for aE,ao in pairs(E)do if type(ao)=='table'then for an,ap in pairs(ao)do if type(ap)=='table'and ap.center then local aq=ap.center;local az=L(aa,vec3(aq[1],aq[2],aq[3])):len()if az<c1 then c1=az;c2=ap.radius or 0 end end end end end;k=math.max(c1-c2,0)local a_=math.min(k,3500)/3500*110;altScaled=math.floor(a_+0.5)end;do if F then local aa=vec3(construct.getWorldPosition())g=L(F,aa):len()/1000 end end;local c3=vec3(construct.getWorldAngularVelocity())if a4 then bn=0;bo=0;bp=0 end;local c4=bn*bd*bu+bo*bf*bt+bp*be*bs;if br:len()>0.01 and unit.getAtmosphereDensity()>0.0 then local c5=1.0;if bi==true and bx>c5 and bo==0 then local c6=utils.clamp(0,bx-30,bx+30)if rollPID==nil then rollPID=pid.new(bj*0.01,0,bj*0.1)end;rollPID:inject(c6-bw)local c7=rollPID:get()c4=c4+c7*bt end;local c8=20.0;if bk==true and bx>c8 and bn==0 and bp==0 then local c9=bl*0.1;local ca=bl*0.025;local cb=(bx-c8)/(180-c8)*180;local cc=0;if cb<90 then cc=cb/90 elseif cb<180 then cc=(180-cb)/90 end;cc=cc*cc;local cd=-by*ca*(1.0-cc)local ce=c9*cc;c4=c4+ce*bu+cd*bs end end;local cf=1;local cg=0;local ch=1;if a4 then c4=vec3()end;local ci=bm*(c4-c3)local cj=vec3(construct.getWorldAirFrictionAngularAcceleration())ci=ci-cj;Nav:setEngineTorqueCommand('torque',ci,cf,'airfoil','','',ch)local ck=-bq*(bg*h+bh*bv)Nav:setEngineForceCommand('brake',ck)local cl=''local cm=vec3()local cn=false;local co='thrust analog longitudinal'local cp=Nav.axisCommandManager:getAxisCommandType(axisCommandId.longitudinal)if cp==axisCommandType.byThrottle then local cq=Nav.axisCommandManager:composeAxisAccelerationFromThrottle(co,axisCommandId.longitudinal)Nav:setEngineForceCommand(co,cq,cf)elseif cp==axisCommandType.byTargetSpeed then local cq=Nav.axisCommandManager:composeAxisAccelerationFromTargetSpeed(axisCommandId.longitudinal)cl=cl..' , '..co;cm=cm+cq;if Nav.axisCommandManager:getTargetSpeed(axisCommandId.longitudinal)==0 or Nav.axisCommandManager:getCurrentToTargetDeltaSpeed(axisCommandId.longitudinal)<-Nav.axisCommandManager:getTargetSpeedCurrentStep(axisCommandId.longitudinal)*0.5 then cn=true end end;local cr='thrust analog lateral'local cs=Nav.axisCommandManager:getAxisCommandType(axisCommandId.lateral)if cs==axisCommandType.byThrottle then local ct=Nav.axisCommandManager:composeAxisAccelerationFromThrottle(cr,axisCommandId.lateral)Nav:setEngineForceCommand(cr,ct,cf)elseif cs==axisCommandType.byTargetSpeed then local cu=Nav.axisCommandManager:composeAxisAccelerationFromTargetSpeed(axisCommandId.lateral)cl=cl..' , '..cr;cm=cm+cu end;local cv='thrust analog vertical'local cw=Nav.axisCommandManager:getAxisCommandType(axisCommandId.vertical)if cw==axisCommandType.byThrottle then local cx=Nav.axisCommandManager:composeAxisAccelerationFromThrottle(cv,axisCommandId.vertical)Nav:setEngineForceCommand(cv,cx,cf,'airfoil','ground','',ch)elseif cw==axisCommandType.byTargetSpeed then local cy=Nav.axisCommandManager:composeAxisAccelerationFromTargetSpeed(axisCommandId.vertical)cl=cl..' , '..cv;cm=cm+cy end;if cm:len()>constants.epsilon then if d~=0 or cn or math.abs(bv:dot(bt))<0.95 then cl=cl..', brake'end;Nav:setEngineForceCommand(cl,cm,cg,'','','',ch)end end)system:onEvent('onUpdate',function(self)y=(unit.getAtmosphereDensity()or 0)>0;local I=vec3(construct.getWorldVelocity())j=math.sqrt(I.x*I.x+I.y*I.y+I.z*I.z)f=construct.getTotalMass()or 0;local function cz(ai)return ai~=nil and ai or 0 end;local function cA(ai)return ai==ai and ai~=math.huge and ai~=-math.huge end;local cB=construct.getCurrentBrake()if cB==nil or cB<=0 then cB=construct.getMaxBrake()or 0 end;local cC,cD,cE=cz(h and h.x),cz(h and h.y),cz(h and h.z)local cF=cC*cC+cD*cD+cE*cE;local cG=cF>=0 and cA(cF)and math.sqrt(cF)or 0;e=math.floor(f*cG*cG)/(2*cB)if y then A=false;if B then d=0 end;B=false;if S then O('Autopilot: canceled (atmosphere detected)')a5()end;a4=false end;if F then if aF(r,F)then if B and math.floor(g)<math.ceil(e/1000)+9 and j>10 then d=1 elseif B and j<=0.5 then d=0;B=false end else if B and math.floor(aM())<math.ceil(e+49000)and j>10 then d=1 elseif B and j<=0.5 then d=0;B=false end end end;if S and F and not y then local cH=Q()if AllowAtmo and not a1 and r then if cH-(a3 or 0)>=(a2 or 0.5)then a3=cH;local cI=G(r,F)local cJ=false;if warp and warp.getStatus then local cK,cL=pcall(warp.getStatus)if cK and cL==15 then cJ=true end end;if cI and cJ and warp and warp.initiate then O('Warp: initiating (dest near body, status=15)')pcall(function()warp.initiate()end)a1=true end end end;local function cM()local aa=vec3(construct.getWorldPosition())local bz=L(F,aa)local cN=bz:len()if not cN or cN<=1e-6 then return 0 end;local bE=vec3(construct.getWorldOrientationForward())local cO=(bz/cN):dot(bE)cO=math.min(1,math.max(-1,cO))return math.deg(math.acos(cO))end;local function cP()local aa=vec3(construct.getWorldPosition())return L(F,aa):len()end;if T=='align'then A=true;local cQ=1.0;if cM()<=cQ then if V==0 then V=cH end;if cH-V>=0.5 then a6(1)B=true;O('Autopilot: aligned; throttle max with auto-brake')T='cruise'Y=j or 0;Z=cH end else V=0 end elseif T=='cruise'then local cR=construct.getMaxSpeed and construct.getMaxSpeed()or 0;local cS=false;if cR and cR>0 then cS=j>=0.995*cR else local cT=1.0;if j>Y+cT then Y=j;Z=cH end;cS=cH-Z>=3.0 end;local cU=cP()local cV=X>0 and cU<=X;if cV or cS then a6(0)O('Autopilot: throttle 0; braking...')T='brake'end elseif T=='brake'then a4=true;if not B then A=false;T='done'O('Autopilot: arrived; exiting seat')O('COMMAND COMPLETED')pcall(function()a6(0)unit.exit()end)a5()end else a4=false end end;if a0 then a4=true;a6(0)A=false;d=1;if j<=0.5 then d=0;a0=false;a4=false;pcall(function()unit.exit()end)end end end)O("PRIMED")
